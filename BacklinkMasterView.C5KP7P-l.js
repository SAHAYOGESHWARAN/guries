import{u as F,r,j as t,g as L}from"./index.Cgn8UqAd.js";import{T as I}from"./Table.qlFSYBMu.js";import{e as z}from"./csvHelper.D2kXyc6K.js";const p=["All Types","Guest Post","Directory","Forum","Profile","Blog"],g=["All Countries","United States","United Kingdom","Canada","Australia"],M=["All Status","active","trusted","avoid","blacklisted"],O=()=>{const{data:f,create:v,update:j,remove:w}=F("backlinks"),[m,y]=r.useState(""),[n,k]=r.useState("All Types"),[d,N]=r.useState("All Countries"),[i,S]=r.useState("All Status"),[C,o]=r.useState("list"),[c,x]=r.useState(null),[s,l]=r.useState({domain:"",platform_type:"Guest Post",da_score:0,spam_score:0,country:"United States",pricing:"Paid",status:"active"}),h=f.filter(e=>{const u=e.domain.toLowerCase().includes(m.toLowerCase()),a=n==="All Types"||e.platform_type===n,P=d==="All Countries"||e.country===d,E=i==="All Status"||e.status===i;return u&&a&&P&&E}),b=(e,u)=>{let a="bg-gray-100 text-gray-800";return u==="da"?e>=80?a="bg-green-100 text-green-800":e>=50?a="bg-blue-100 text-blue-800":a="bg-yellow-100 text-yellow-800":e<=2?a="bg-green-100 text-green-800":e<=5?a="bg-yellow-100 text-yellow-800":a="bg-red-100 text-red-800",t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${a}`,children:e})},A=e=>{x(e),l(e),o("form")},_=async e=>{confirm("Delete this backlink source?")&&await w(e)},T=async()=>{const e=/^(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]$/i;if(!s.domain||!e.test(s.domain)){alert("Please enter a valid domain name (e.g., example.com)");return}c?await j(c.id,{...s,updated_at:new Date().toISOString()}):await v({...s,updated_at:new Date().toISOString()}),o("list"),x(null),l({domain:"",platform_type:"Guest Post",da_score:0,spam_score:0,country:"United States",pricing:"Paid",status:"active"})},D=()=>{z(h,"backlinks_master_export")},B=[{header:"Domain",accessor:"domain",className:"font-bold text-slate-800"},{header:"Type",accessor:"platform_type"},{header:"DA",accessor:e=>b(e.da_score,"da"),className:"text-center"},{header:"Spam",accessor:e=>b(e.spam_score,"spam"),className:"text-center"},{header:"Country",accessor:"country"},{header:"Pricing",accessor:"pricing"},{header:"Status",accessor:e=>L(e.status)},{header:"Actions",accessor:e=>t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>A(e),className:"text-blue-600 hover:text-blue-800",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),t.jsx("button",{onClick:()=>_(e.id),className:"text-red-600 hover:text-red-800",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}];return C==="form"?t.jsxs("div",{className:"h-full flex flex-col bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden animate-fade-in w-full",children:[t.jsxs("div",{className:"border-b border-slate-200 px-8 py-5 flex justify-between items-center bg-slate-50/50",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:c?"Edit Backlink Source":"Add Backlink Source"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>o("list"),className:"px-5 py-2.5 text-sm font-medium text-slate-600 border border-slate-300 rounded-xl hover:bg-slate-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:T,className:"bg-blue-600 text-white px-6 py-2.5 rounded-xl font-bold shadow-md hover:bg-blue-700 transition-colors",children:"Save"})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-slate-50",children:t.jsxs("div",{className:"w-full bg-white p-8 rounded-2xl border border-slate-200 shadow-sm space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Domain"}),t.jsx("input",{type:"text",value:s.domain,onChange:e=>l({...s,domain:e.target.value}),className:"block w-full px-4 py-3 border border-slate-300 rounded-xl",placeholder:"e.g. example.com"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Type"}),t.jsx("select",{value:s.platform_type,onChange:e=>l({...s,platform_type:e.target.value}),className:"block w-full px-4 py-3 border border-slate-300 rounded-xl bg-white",children:p.filter(e=>e!=="All Types").map(e=>t.jsx("option",{value:e,children:e},e))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Country"}),t.jsx("select",{value:s.country,onChange:e=>l({...s,country:e.target.value}),className:"block w-full px-4 py-3 border border-slate-300 rounded-xl bg-white",children:g.filter(e=>e!=="All Countries").map(e=>t.jsx("option",{value:e,children:e},e))})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"DA Score"}),t.jsx("input",{type:"number",value:s.da_score,onChange:e=>l({...s,da_score:parseInt(e.target.value)}),className:"block w-full px-4 py-3 border border-slate-300 rounded-xl"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Spam Score"}),t.jsx("input",{type:"number",value:s.spam_score,onChange:e=>l({...s,spam_score:parseInt(e.target.value)}),className:"block w-full px-4 py-3 border border-slate-300 rounded-xl"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Pricing"}),t.jsxs("select",{value:s.pricing,onChange:e=>l({...s,pricing:e.target.value}),className:"block w-full px-4 py-3 border border-slate-300 rounded-xl bg-white",children:[t.jsx("option",{children:"Paid"}),t.jsx("option",{children:"Free"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Status"}),t.jsxs("select",{value:s.status,onChange:e=>l({...s,status:e.target.value}),className:"block w-full px-4 py-3 border border-slate-300 rounded-xl bg-white",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"trusted",children:"Trusted"}),t.jsx("option",{value:"avoid",children:"Avoid"}),t.jsx("option",{value:"blacklisted",children:"Blacklisted"}),t.jsx("option",{value:"test",children:"Test"})]})]})]})})]}):t.jsxs("div",{className:"space-y-6 h-full flex flex-col w-full p-6 animate-fade-in",children:[t.jsxs("div",{className:"flex justify-between items-start flex-shrink-0",children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"Backlink Master"}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:D,className:"bg-white text-slate-600 border border-slate-300 px-4 py-2 rounded-lg font-medium text-sm hover:bg-slate-50 shadow-sm transition-colors",children:"Export"}),t.jsx("button",{onClick:()=>{x(null),o("form")},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium text-sm hover:bg-blue-700 shadow-sm",children:"Add Backlink Source"})]})]}),t.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col gap-4 flex-shrink-0",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[t.jsx("input",{type:"search",className:"block w-full p-2.5 border border-gray-300 rounded-lg",placeholder:"Search domains...",value:m,onChange:e=>y(e.target.value)}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("select",{value:n,onChange:e=>k(e.target.value),className:"bg-slate-50 border border-slate-300 text-sm rounded-lg p-2.5",children:p.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx("select",{value:d,onChange:e=>N(e.target.value),className:"bg-slate-50 border border-slate-300 text-sm rounded-lg p-2.5",children:g.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx("select",{value:i,onChange:e=>S(e.target.value),className:"bg-slate-50 border border-slate-300 text-sm rounded-lg p-2.5",children:M.map(e=>t.jsx("option",{value:e,children:e},e))})]})]})}),t.jsx("div",{className:"flex-1 overflow-hidden bg-white rounded-xl shadow-sm border border-slate-200",children:t.jsx(I,{columns:B,data:h,title:"Backlink Inventory"})})]})};export{O as default};
