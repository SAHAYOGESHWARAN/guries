import{u as w,r as o,j as e}from"./index.Cgn8UqAd.js";import{T as y}from"./Table.qlFSYBMu.js";import{e as N}from"./csvHelper.D2kXyc6K.js";const k=["All Industries","Technology","E-commerce","Media","Healthcare","Finance"],C=["All Countries","United States","United Kingdom","Canada","Australia","Global"],D=()=>{const{data:c,create:m,update:x,remove:u}=w("competitors"),[l,h]=o.useState(""),[b,r]=o.useState("list"),[n,d]=o.useState(null),[s,a]=o.useState({competitor_name:"",domain:"",industry:"Technology",region:"United States",da:0,dr:0,monthly_traffic:0,backlinks:0,ranking_coverage:0,status:"Active"}),i=c.filter(t=>t.competitor_name.toLowerCase().includes(l.toLowerCase())||t.domain.toLowerCase().includes(l.toLowerCase())),p=t=>{d(t),a(t),r("form")},f=async t=>{confirm("Are you sure you want to delete this competitor?")&&await u(t)},g=async()=>{n?await x(n.id,{...s,updated_on:"Just now"}):await m({...s,updated_on:"Just now"}),r("list"),d(null),a({competitor_name:"",domain:"",industry:"Technology",region:"United States",da:0,dr:0,monthly_traffic:0,backlinks:0,ranking_coverage:0,status:"Active"})},v=()=>{N(i,"competitor_benchmark_master_export")},j=[{header:"Competitor Name",accessor:"competitor_name",className:"font-bold text-slate-800"},{header:"Domain",accessor:t=>e.jsx("a",{href:`https://${t.domain}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-mono text-xs",children:t.domain})},{header:"Industry",accessor:"industry"},{header:"Region",accessor:"region"},{header:"DA / DR",accessor:t=>e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("span",{className:"text-xs font-medium bg-green-50 text-green-700 px-1.5 py-0.5 rounded border border-green-100 w-fit",children:["DA: ",t.da]}),e.jsxs("span",{className:"text-xs font-medium bg-blue-50 text-blue-700 px-1.5 py-0.5 rounded border border-blue-100 w-fit",children:["DR: ",t.dr]})]})},{header:"Traffic",accessor:t=>t.monthly_traffic.toLocaleString(),className:"text-right font-mono"},{header:"Updated On",accessor:"updated_on",className:"text-xs text-slate-500"},{header:"Actions",accessor:t=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>p(t),className:"text-slate-400 hover:text-blue-600",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),e.jsx("button",{onClick:()=>f(t.id),className:"text-slate-400 hover:text-red-600",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}];return b==="form"?e.jsxs("div",{className:"h-full flex flex-col bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden animate-fade-in w-full",children:[e.jsxs("div",{className:"border-b border-slate-200 px-8 py-5 flex justify-between items-center bg-slate-50/50",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:n?"Edit Competitor":"Add Competitor"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>r("list"),className:"px-5 py-2.5 text-sm font-medium text-slate-600 border border-slate-300 rounded-xl hover:bg-slate-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:g,className:"bg-blue-600 text-white px-6 py-2.5 rounded-xl font-bold shadow-md hover:bg-blue-700 transition-colors",children:"Save"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-slate-50",children:e.jsxs("div",{className:"w-full bg-white p-8 rounded-2xl border border-slate-200 shadow-sm space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Competitor Name"}),e.jsx("input",{type:"text",value:s.competitor_name,onChange:t=>a({...s,competitor_name:t.target.value}),className:"block w-full px-4 py-3 border border-slate-300 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Domain"}),e.jsx("input",{type:"text",value:s.domain,onChange:t=>a({...s,domain:t.target.value}),className:"block w-full px-4 py-3 border border-slate-300 rounded-xl"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry"}),e.jsx("select",{value:s.industry,onChange:t=>a({...s,industry:t.target.value}),className:"block w-full px-4 py-3 border border-slate-300 rounded-xl bg-white",children:k.filter(t=>t!=="All Industries").map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Region"}),e.jsx("select",{value:s.region,onChange:t=>a({...s,region:t.target.value}),className:"block w-full px-4 py-3 border border-slate-300 rounded-xl bg-white",children:C.filter(t=>t!=="All Countries").map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"DA"}),e.jsx("input",{type:"number",value:s.da,onChange:t=>a({...s,da:parseInt(t.target.value)}),className:"block w-full px-4 py-3 border border-slate-300 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"DR"}),e.jsx("input",{type:"number",value:s.dr,onChange:t=>a({...s,dr:parseInt(t.target.value)}),className:"block w-full px-4 py-3 border border-slate-300 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Traffic"}),e.jsx("input",{type:"number",value:s.monthly_traffic,onChange:t=>a({...s,monthly_traffic:parseInt(t.target.value)}),className:"block w-full px-4 py-3 border border-slate-300 rounded-xl"})]})]})]})})]}):e.jsxs("div",{className:"space-y-6 h-full flex flex-col w-full p-6 animate-fade-in",children:[e.jsxs("div",{className:"flex justify-between items-start flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"Competitor Benchmark Master"}),e.jsx("p",{className:"text-slate-500 mt-1",children:"Track and compare competitor metrics."})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:v,className:"bg-white text-slate-600 border border-slate-300 px-4 py-2 rounded-lg font-medium text-sm hover:bg-slate-50 shadow-sm transition-colors",children:"Export"}),e.jsx("button",{onClick:()=>{d(null),a({competitor_name:"",domain:"",industry:"Technology",region:"United States",da:0,dr:0,monthly_traffic:0,backlinks:0,ranking_coverage:0,status:"Active"}),r("form")},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium text-sm hover:bg-blue-700 shadow-sm transition-colors",children:"Add Competitor"})]})]}),e.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex-shrink-0",children:e.jsx("input",{type:"search",className:"block w-full p-2.5 border border-gray-300 rounded-lg",placeholder:"Search competitor...",value:l,onChange:t=>h(t.target.value)})}),e.jsx("div",{className:"flex-1 overflow-hidden bg-white rounded-xl shadow-sm border border-slate-200",children:e.jsx(y,{columns:j,data:i,title:"Competitor Landscape"})})]})};export{D as default};
