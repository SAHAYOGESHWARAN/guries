import{e as j,r as n,j as e}from"./index.Cgn8UqAd.js";const f=({onNavigateBack:d})=>{const{user:s,setCurrentUser:u}=j(),[r,o]=n.useState(!1),[c,x]=n.useState(!1),[h,m]=n.useState(!1),[t,i]=n.useState({name:"",email:"",department:"",country:"",phone:"",avatar_url:""});n.useEffect(()=>{s&&i({name:s.name||"",email:s.email||"",department:s.department||"",country:s.country||"",phone:"",avatar_url:s.avatar_url||""})},[s]);const l=a=>{i({...t,[a.target.name]:a.target.value})},p=async()=>{if(x(!0),await new Promise(a=>setTimeout(a,1e3)),s){const a={...s,name:t.name,email:t.email,department:t.department,country:t.country,avatar_url:t.avatar_url};u(a)}x(!1),o(!1),m(!0),setTimeout(()=>m(!1),3e3)},g=()=>{s&&i({name:s.name||"",email:s.email||"",department:s.department||"",country:s.country||"",phone:"",avatar_url:s.avatar_url||""}),o(!1)},b=a=>{switch(a){case"admin":return"bg-purple-100 text-purple-800";case"user":return"bg-blue-100 text-blue-800";default:return"bg-slate-100 text-slate-800"}};return s?e.jsx("div",{className:"h-full w-full flex flex-col overflow-hidden bg-slate-50",children:e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[d&&e.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-200 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"My Profile"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Manage your account information"})]})]}),r?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:g,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-100 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:p,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[c?e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]})]}):e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Profile"]})]}),h&&e.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-green-800 font-medium",children:"Profile updated successfully!"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-brand-600 to-violet-600 px-6 py-8",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.avatar_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name||"User")}&background=${s.role==="admin"?"7c3aed":"3b82f6"}&color=fff&size=96`,alt:t.name,className:"w-24 h-24 rounded-full border-4 border-white shadow-lg object-cover"}),r&&e.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-white rounded-full shadow-md hover:bg-slate-50 transition-colors",children:e.jsxs("svg",{className:"w-4 h-4 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-2xl font-bold",children:t.name||"User"}),e.jsx("p",{className:"text-white/80",children:t.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${b(s.role)}`,children:s.role.charAt(0).toUpperCase()+s.role.slice(1)}),e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:s.status})]})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Full Name"}),r?e.jsx("input",{type:"text",name:"name",value:t.name,onChange:l,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 transition-colors",placeholder:"Enter your name"}):e.jsx("p",{className:"px-4 py-2.5 bg-slate-50 rounded-lg text-slate-800",children:t.name||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),r?e.jsx("input",{type:"email",name:"email",value:t.email,onChange:l,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 transition-colors",placeholder:"Enter your email"}):e.jsx("p",{className:"px-4 py-2.5 bg-slate-50 rounded-lg text-slate-800",children:t.email||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Department"}),r?e.jsxs("select",{name:"department",value:t.department,onChange:l,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 transition-colors",children:[e.jsx("option",{value:"",children:"Select Department"}),e.jsx("option",{value:"Marketing",children:"Marketing"}),e.jsx("option",{value:"Sales",children:"Sales"}),e.jsx("option",{value:"Engineering",children:"Engineering"}),e.jsx("option",{value:"Design",children:"Design"}),e.jsx("option",{value:"Operations",children:"Operations"}),e.jsx("option",{value:"HR",children:"HR"}),e.jsx("option",{value:"Finance",children:"Finance"})]}):e.jsx("p",{className:"px-4 py-2.5 bg-slate-50 rounded-lg text-slate-800",children:t.department||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Country"}),r?e.jsxs("select",{name:"country",value:t.country,onChange:l,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 transition-colors",children:[e.jsx("option",{value:"",children:"Select Country"}),e.jsx("option",{value:"United States",children:"United States"}),e.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),e.jsx("option",{value:"Canada",children:"Canada"}),e.jsx("option",{value:"Australia",children:"Australia"}),e.jsx("option",{value:"India",children:"India"}),e.jsx("option",{value:"Germany",children:"Germany"}),e.jsx("option",{value:"France",children:"France"})]}):e.jsx("p",{className:"px-4 py-2.5 bg-slate-50 rounded-lg text-slate-800",children:t.country||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Role"}),e.jsxs("p",{className:"px-4 py-2.5 bg-slate-100 rounded-lg text-slate-600",children:[s.role.charAt(0).toUpperCase()+s.role.slice(1),e.jsx("span",{className:"text-xs text-slate-400 ml-2",children:"(Contact admin to change)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Member Since"}),e.jsx("p",{className:"px-4 py-2.5 bg-slate-50 rounded-lg text-slate-800",children:s.created_at?new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"-"})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{children:["Last login: ",s.last_login?new Date(s.last_login).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Just now"]})]})})]})]}),e.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Account Actions"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),"Change Password"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),"Notification Settings"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Account"]})]})]})]})})}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("p",{className:"text-slate-500",children:"Please log in to view your profile"})})};export{f as default};
