import{r as i,j as e}from"./index.Cgn8UqAd.js";const n=({className:a="w-5 h-5"})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),z=({className:a="w-5 h-5"})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),C=({className:a="w-5 h-5"})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),T=({className:a="w-5 h-5"})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"})}),L=({className:a="w-5 h-5"})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),W=({className:a="w-5 h-5"})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),M=({className:a="w-5 h-5"})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),S=({onNavigate:a})=>{const[v,N]=i.useState(null),[w,c]=i.useState(!0),[r,d]=i.useState({timeRange:"monthly",department:"all",team:"all"});i.useEffect(()=>{x()},[r]);const x=async()=>{try{c(!0);const s="/api/v1",t=new URLSearchParams(r).toString(),f=await(await fetch(`${s}/dashboards/workload-prediction?${t}`)).json();f.success&&N(f.data)}catch{}finally{c(!1)}},k=async s=>{try{(await fetch("/api/v1/dashboards/workload-prediction/implement-suggestion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({suggestionId:s,approvedBy:"Team Leader",notes:"Approved for implementation"})})).ok&&x()}catch{}};if(w)return e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const{forecastedTasks:o,predictedOverloads:m,resourceGapAlerts:h,allocationSuggestions:u,workloadTrendForecast:U,teamCapacityUtilization:b}=v||{},y=s=>{switch(s){case"balanced":return"bg-emerald-500";case"overload":return"bg-red-500";case"underutilized":return"bg-blue-500";case"suggested":return"bg-indigo-500";default:return"bg-slate-400"}},j=s=>s>=100?"text-red-600 bg-red-100":s>=85?"text-amber-600 bg-amber-100":s>=60?"text-emerald-600 bg-emerald-100":"text-blue-600 bg-blue-100",p=s=>{switch(s){case"high":return"border-red-500 bg-red-50";case"medium":return"border-amber-500 bg-amber-50";case"low":return"border-blue-500 bg-blue-50";default:return"border-slate-500 bg-slate-50"}},g=s=>{switch(s){case"high":return"text-red-600 bg-red-100";case"medium":return"text-amber-600 bg-amber-100";case"low":return"text-blue-600 bg-blue-100";default:return"text-slate-600 bg-slate-100"}};return e.jsx("div",{className:"h-full w-full flex flex-col overflow-hidden bg-slate-50",children:e.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-slate-300",children:e.jsxs("div",{className:"w-full space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-6",children:[e.jsx("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:"ðŸ“ˆ Workload Prediction & Allocation"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"AI-powered capacity planning and resource optimization"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("select",{value:r.timeRange,onChange:s=>d(t=>({...t,timeRange:s.target.value})),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"})]}),e.jsxs("select",{value:r.department,onChange:s=>d(t=>({...t,department:s.target.value})),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Departments"}),e.jsx("option",{value:"content",children:"Content Team"}),e.jsx("option",{value:"seo",children:"SEO Team"}),e.jsx("option",{value:"tech",children:"Tech Team"}),e.jsx("option",{value:"marketing",children:"Marketing Team"})]}),e.jsxs("select",{value:r.team,onChange:s=>d(t=>({...t,team:s.target.value})),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Teams"}),e.jsx("option",{value:"team-a",children:"Team A"}),e.jsx("option",{value:"team-b",children:"Team B"}),e.jsx("option",{value:"team-c",children:"Team C"})]})]})]}),o&&e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5 text-blue-500"}),"Forecasted Tasks per Person"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(s=>e.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:s.name}),e.jsx("p",{className:"text-sm text-slate-600",children:s.role})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="overload"?"bg-red-100 text-red-700":s.status==="balanced"?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-700"}`,children:s.status==="overload"?"Overload":s.status==="balanced"?"Balanced":"Underutilized"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Current"}),e.jsxs("div",{className:"text-lg font-bold text-slate-900",children:[s.currentUtilization,"/",s.currentCapacity]}),e.jsxs("div",{className:`text-xs font-medium px-2 py-1 rounded-full w-fit ${j(s.utilizationPercentage)}`,children:[s.utilizationPercentage,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Next Week"}),e.jsx("div",{className:"text-lg font-bold text-slate-900",children:s.forecastedTasks.nextWeek}),e.jsxs("div",{className:`text-xs font-medium px-2 py-1 rounded-full w-fit ${j(s.predictedUtilization.nextWeek)}`,children:[s.predictedUtilization.nextWeek,"%"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600",children:"2 Weeks Out:"}),e.jsxs("span",{className:"font-medium text-slate-900",children:[s.forecastedTasks.twoWeeksOut," tasks (",s.predictedUtilization.twoWeeksOut,"%)"]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600",children:"Next Month:"}),e.jsxs("span",{className:"font-medium text-slate-900",children:[s.forecastedTasks.nextMonth," tasks (",s.predictedUtilization.nextMonth,"%)"]})]})]}),e.jsxs("div",{className:`mt-3 text-xs font-medium px-2 py-1 rounded-full w-fit ${s.riskLevel==="high"?"bg-red-100 text-red-700":s.riskLevel==="medium"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}`,children:[s.riskLevel," risk"]})]},s.employeeId))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m&&e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5 text-red-500"}),"Predicted Overload Cases"]}),e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsxs("div",{className:`border-l-4 p-4 rounded-r-lg ${p(s.riskLevel)}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:s.name}),e.jsx("p",{className:"text-sm text-slate-600",children:s.role})]}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(s.riskLevel)}`,children:[s.riskLevel," risk"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-red-600",children:["+",s.currentOverload,"%"]}),e.jsx("div",{className:"text-xs text-slate-600",children:"Current"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-red-600",children:["+",s.predictedOverload.nextWeek,"%"]}),e.jsx("div",{className:"text-xs text-slate-600",children:"Next Week"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-red-600",children:["+",s.predictedOverload.nextMonth,"%"]}),e.jsx("div",{className:"text-xs text-slate-600",children:"Next Month"})]})]}),e.jsx("div",{className:"text-sm text-slate-700 mb-2",children:s.impact}),e.jsxs("div",{className:"text-xs text-slate-600 mb-2",children:["Timeline: ",s.timeline]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Recommendations:"}),e.jsx("ul",{className:"text-xs text-slate-600 space-y-1",children:s.recommendations.slice(0,2).map((t,l)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1",children:"â€¢"}),e.jsx("span",{children:t})]},l))})]})]},s.employeeId))})]}),h&&e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(T,{className:"w-5 h-5 text-amber-500"}),"Resource Gap Alerts"]}),e.jsx("div",{className:"space-y-4",children:h.map(s=>e.jsxs("div",{className:`border-l-4 p-4 rounded-r-lg ${p(s.severity)}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:s.department}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(s.severity)}`,children:s.severity})]}),e.jsx("div",{className:"text-sm font-medium text-slate-700 mb-1",children:s.gapType}),e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:s.description}),e.jsx("div",{className:"text-sm text-slate-700 mb-2",children:s.impact}),e.jsxs("div",{className:"text-xs text-slate-600 mb-3",children:["Timeline: ",s.timeline]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h4",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Recommendations:"}),e.jsx("ul",{className:"text-xs text-slate-600 space-y-1",children:s.recommendations.map((t,l)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-emerald-500 mt-1",children:"â€¢"}),e.jsx("span",{children:t})]},l))})]}),e.jsxs("div",{className:"text-xs font-medium text-slate-900 bg-slate-100 px-2 py-1 rounded",children:["Estimated Cost: ",s.estimatedCost]})]},s.id))})]})]}),u&&e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(L,{className:"w-5 h-5 text-yellow-500"}),"AI Task Allocation Suggestions"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(s=>e.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.priority==="high"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:[s.priority," priority"]}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.effort==="Low"?"bg-emerald-100 text-emerald-700":s.effort==="Medium"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:[s.effort," effort"]})]}),e.jsx("h3",{className:"font-semibold text-slate-900 text-sm mb-2",children:s.suggestion}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:s.reasoning})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"text-sm font-bold text-blue-600",children:[s.confidence,"%"]}),e.jsx("div",{className:"text-xs text-slate-500",children:"Confidence"})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 mb-3",children:[e.jsx("h4",{className:"text-xs font-semibold text-slate-700 mb-2",children:"Expected Impact:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(s.impact).map(([t,l])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-slate-600 capitalize",children:[t.replace(/([A-Z])/g," $1").trim(),":"]}),e.jsx("span",{className:"font-medium text-slate-900",children:l})]},t))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-xs text-slate-500",children:["Timeline: ",s.timeline]}),e.jsx("button",{onClick:()=>k(s.id.toString()),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 transition-colors",children:"Implement"})]})]},s.id))})]}),b&&e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-purple-500"}),"Team Capacity Utilization"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:b.map((s,t)=>e.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:s.team}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="overload"?"bg-red-100 text-red-700":s.status==="balanced"?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-700"}`,children:s.status})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-slate-600",children:"Current"}),e.jsxs("span",{className:"font-medium text-slate-900",children:[s.currentUtilization,"/",s.currentCapacity]})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${y(s.status)}`,style:{width:`${Math.min(s.utilizationPercentage,100)}%`}})}),e.jsxs("div",{className:"text-center text-sm font-bold text-slate-900 mt-1",children:[s.utilizationPercentage,"%"]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Next Week:"}),e.jsxs("span",{className:`font-medium ${s.forecastedUtilization.nextWeek>=100?"text-red-600":s.forecastedUtilization.nextWeek>=85?"text-amber-600":"text-emerald-600"}`,children:[s.forecastedUtilization.nextWeek,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Next Month:"}),e.jsxs("span",{className:`font-medium ${s.forecastedUtilization.nextMonth>=100?"text-red-600":s.forecastedUtilization.nextMonth>=85?"text-amber-600":"text-emerald-600"}`,children:[s.forecastedUtilization.nextMonth,"%"]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-1",children:[s.trend==="increasing"?e.jsx(n,{className:"w-4 h-4 text-red-500"}):s.trend==="decreasing"?e.jsx(n,{className:"w-4 h-4 text-emerald-500 rotate-180"}):e.jsx(M,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-xs text-slate-600 capitalize",children:s.trend})]})]},t))})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(n,{className:"w-5 h-5 text-blue-500"}),"Workload Trend Forecast"]}),e.jsx("div",{className:"h-64 bg-slate-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-500 text-sm",children:"Workload Trend Chart (Team Capacity vs Predicted Workload vs Optimal Utilization)"})})]})]})})})};export{S as default};
