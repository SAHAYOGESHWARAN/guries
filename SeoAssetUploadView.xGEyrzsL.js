import{r as l,j as e,e as Ss,u as x}from"./index.Cgn8UqAd.js";const Cs=({value:d,onChange:w,placeholder:ie="Write your content here... Use Markdown syntax for formatting",rows:m=12})=>{const[_,K]=l.useState(!1),E=l.useRef(null),S=l.useMemo(()=>{const i=d||"",v=i.trim().split(/\s+/).filter(G=>G.length>0).length,h=i.length,N=i.split(`
`).length,p=Math.ceil(v/200);return{words:v,characters:h,lines:N,readTime:p}},[d]),u=l.useCallback((i,v="")=>{const h=E.current;if(!h)return;const N=h.selectionStart,p=h.selectionEnd,G=d.substring(N,p),J=d.substring(0,N)+i+G+v+d.substring(p);w(J),setTimeout(()=>{h.focus(),h.setSelectionRange(N+i.length,p+i.length)},0)},[d,w]),Q=i=>i.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/^# (.*$)/gim,'<h1 class="text-2xl font-bold mt-4 mb-2">$1</h1>').replace(/^## (.*$)/gim,'<h2 class="text-xl font-bold mt-3 mb-2">$1</h2>').replace(/^### (.*$)/gim,'<h3 class="text-lg font-bold mt-2 mb-1">$1</h3>').replace(/\[(.*?)\]\((.*?)\)/g,'<a href="$2" class="text-blue-600 hover:underline">$1</a>').replace(/`(.*?)`/g,'<code class="bg-slate-100 px-1 py-0.5 rounded text-xs font-mono">$1</code>').replace(/^- (.*$)/gim,'<li class="ml-4">• $1</li>').replace(/^• (.*$)/gim,'<li class="ml-4">• $1</li>').replace(/\n\n/g,'</p><p class="mt-2">').replace(/\n/g,"<br />");return e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["Body Content Editor",e.jsx("span",{className:"text-xs font-normal text-slate-500 ml-2",children:"Write your main content with Markdown support"})]}),e.jsxs("div",{className:"bg-slate-50 border-2 border-slate-200 rounded-t-lg p-2 flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-xs font-bold text-slate-600 mr-2",children:"QUICK FORMAT:"}),e.jsx("button",{type:"button",onClick:()=>u("**","**"),className:"px-2 py-1 text-xs font-bold bg-white border border-slate-300 rounded hover:bg-slate-100 transition-colors",title:"Bold",children:e.jsx("strong",{children:"B"})}),e.jsx("button",{type:"button",onClick:()=>u("*","*"),className:"px-2 py-1 text-xs font-bold bg-white border border-slate-300 rounded hover:bg-slate-100 transition-colors italic",title:"Italic",children:"I"}),e.jsx("button",{type:"button",onClick:()=>u("# ",""),className:"px-2 py-1 text-xs font-bold bg-white border border-slate-300 rounded hover:bg-slate-100 transition-colors",title:"Heading",children:"# H"}),e.jsx("button",{type:"button",onClick:()=>u("- ",""),className:"px-2 py-1 text-xs font-bold bg-white border border-slate-300 rounded hover:bg-slate-100 transition-colors",title:"List",children:"• List"}),e.jsx("button",{type:"button",onClick:()=>u("[","](url)"),className:"px-2 py-1 text-xs font-bold bg-white border border-slate-300 rounded hover:bg-slate-100 transition-colors",title:"Link",children:"[Link]"}),e.jsx("button",{type:"button",onClick:()=>u("`","`"),className:"px-2 py-1 text-xs font-mono bg-white border border-slate-300 rounded hover:bg-slate-100 transition-colors",title:"Code",children:"`Code`"}),e.jsx("div",{className:"ml-auto flex items-center gap-2",children:e.jsx("button",{type:"button",onClick:()=>K(!_),className:"px-3 py-1 text-xs font-medium bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors",children:_?"Edit":"Preview"})})]}),_?e.jsx("div",{className:"w-full px-4 py-3 border-2 border-t-0 border-slate-200 rounded-b-lg text-sm bg-white min-h-[300px]",children:e.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:Q(d||"")}})}):e.jsx("textarea",{ref:E,value:d,onChange:i=>w(i.target.value),className:"w-full px-4 py-3 border-2 border-t-0 border-slate-200 rounded-b-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all font-mono",placeholder:ie,rows:m}),e.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-slate-600",children:[e.jsxs("span",{className:"text-xs text-slate-500",children:[e.jsx("span",{className:"font-medium",children:"Tip:"})," Use Markdown syntax for formatting"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-4",children:[e.jsxs("span",{children:["Words ",e.jsx("strong",{className:"text-purple-600",children:S.words})]}),e.jsxs("span",{children:["Read Time ",e.jsxs("strong",{className:"text-purple-600",children:[S.readTime," min"]})]}),e.jsxs("span",{children:["Characters ",e.jsx("strong",{className:"text-purple-600",children:S.characters})]}),e.jsxs("span",{children:["Lines ",e.jsx("strong",{className:"text-purple-600",children:S.lines})]}),e.jsx("span",{className:"text-green-600 font-medium",children:"✓ Auto-saved"})]})]})]})},Ts=({onNavigate:d,editAssetId:w})=>{const{user:ie}=Ss(),m="/api/v1",{data:_=[]}=x("tasks"),{data:K=[]}=x("campaigns"),{data:E=[]}=x("projects"),{data:S=[]}=x("services"),{data:u=[]}=x("subServices"),{data:Q=[]}=x("content"),{data:i=[]}=x("users"),{data:v=[]}=x("keywords"),{data:h=[]}=x("asset-type-master");x("asset-category-master");const{data:N=[]}=x("assetLibrary"),{data:p=[]}=x("industrySectors"),[G,J]=l.useState([]),[Ge,ye]=l.useState([]);l.useEffect(()=>{fetch(`${m}/seo-assets/master/backlink-domains`).then(s=>s.json()).then(s=>J(s||[])).catch(()=>J([])),fetch(`${m}/seo-assets/master/domain-types`).then(s=>s.json()).then(s=>ye(s||[])).catch(()=>ye([]))},[m]);const[ke,X]=l.useState(null),[W,Y]=l.useState(!1),[C,we]=l.useState(!1),[L,M]=l.useState(null),[T,$]=l.useState(null),[P,B]=l.useState(null),[b,I]=l.useState(null),[A,y]=l.useState([]),[R,F]=l.useState(null),[oe,de]=l.useState(""),[Je,_e]=l.useState(""),[Xe,Ye]=l.useState(""),[Ze,es]=l.useState(""),[ce,xe]=l.useState(""),[me,ss]=l.useState(""),[Z,Se]=l.useState(""),[Ce,Le]=l.useState(""),[Ae,De]=l.useState(""),[ue,Me]=l.useState(""),[ee,Te]=l.useState(null),[k,he]=l.useState([]),[D,$e]=l.useState(""),[n,se]=l.useState([]),[Ls,ts]=l.useState(!1),[As,ls]=l.useState(""),[rs,te]=l.useState(!1),[pe,Pe]=l.useState(null),[c,V]=l.useState({domain_name:"",url_posted:"",seo_self_qc_status:"Pending",qa_status:"",approval_status:"Pending"}),[as,le]=l.useState(!1),[g,Be]=l.useState(null),[f,U]=l.useState(""),[re,Ie]=l.useState(""),[O,be]=l.useState([]),[ns,ge]=l.useState(!1),[H,fe]=l.useState([]),[je,Re]=l.useState(null),[Fe,is]=l.useState("v1.0"),[qe,os]=l.useState(!1),[Ee,ds]=l.useState([]),[z,ae]=l.useState(!1),[q,We]=l.useState(!1),[j,cs]=l.useState({}),ne=ie||{id:1,name:"Current User"},ve=!0,o=W&&!C,Ve=l.useMemo(()=>b?u.filter(s=>s.parent_service_id===b):[],[b,u]);l.useMemo(()=>h.filter(s=>s.status==="active"),[h]),l.useMemo(()=>[...new Set(p.map(s=>s.sector).filter(Boolean))],[p]),l.useMemo(()=>[...new Set(p.map(s=>s.industry).filter(Boolean))],[p]);const xs=Ge,Ue=oe.toLowerCase().includes("blog"),ms=async s=>{if(s){X(s),Y(!0),We(!0);const t=N.find(r=>r.id===s);t&&(M(t.linked_task_id||t.linked_task||null),$(t.linked_campaign_id||null),B(t.linked_project_id||null),I(t.linked_service_id||t.linked_service_ids&&t.linked_service_ids[0]||null),y(t.linked_sub_service_ids||[]),F(t.linked_repository_item_id||null),de(t.type||t.asset_type||""),_e(t.asset_category||""),xe(t.name||t.seo_title||""));try{const r=await fetch(`${m}/assetLibrary/${s}`);if(r.ok){const a=await r.json();M(a.linked_task_id||a.linked_task||null),$(a.linked_campaign_id||null),B(a.linked_project_id||null),I(a.linked_service_id||a.linked_service_ids&&a.linked_service_ids[0]||null),y(a.linked_sub_service_ids||[]),F(a.linked_repository_item_id||null),(a.type||a.asset_type)&&de(a.type||a.asset_type),a.asset_category&&_e(a.asset_category),(a.name||a.seo_title)&&xe(a.name||a.seo_title)}}catch{}finally{We(!1)}}},Oe=()=>{Y(!1),X(null),we(!1),M(null),$(null),B(null),I(null),y([]),F(null)},us=()=>{we(!0),X(null),Y(!1),M(null),$(null),B(null),I(null),y([]),F(null)};l.useEffect(()=>{w&&fetch(`${m}/seo-assets/${w}`).then(s=>s.json()).then(s=>{s&&!s.error&&(X(s.linked_asset_id||s.id),Y(!0),M(s.linked_task_id||null),$(s.linked_campaign_id||null),B(s.linked_project_id||null),I(s.linked_service_id||null),y(s.linked_sub_service_ids||[]),F(s.linked_repository_item_id||null),de(s.asset_type||s.type||""),xe(s.seo_title||s.name||""),ss(s.seo_meta_title||""),Se(s.seo_description||""),Le(s.seo_service_url||s.service_url||""),De(s.seo_blog_url||s.blog_url||""),Me(s.seo_anchor_text||s.anchor_text||""),Ie(s.seo_blog_content||s.blog_content||""),is(s.version_number||"v1.0"),ds(s.version_history||[]),$e(s.seo_domain_type||s.domain_type||""),se(s.seo_domains||[]),Te(s.seo_primary_keyword_id||s.primary_keyword_id||null),he(s.seo_lsi_keywords||s.lsi_keywords||[]),Ye(s.seo_sector_id||s.sector_id||""),es(s.seo_industry_id||s.industry_id||""),fe(s.assigned_team_members||[]),Re(s.verified_by||null))}).catch(s=>{})},[w,m]);const He=(s,t)=>s==="Approved"&&t==="Pass"?"Approved":s==="Rejected"||t==="Fail"?"Rejected":"Pending";ne.id;const hs=s=>{if(!s)return;if(n.some(r=>r.domain_name===s)){alert("This domain is already added");return}const t={domain_name:s,url_posted:"",seo_self_qc_status:"Pending",qa_status:"",approval_status:"Pending"};se([...n,t]),ls(""),ts(!1)},ze=s=>{Pe(s),V({...n[s]}),te(!0)},ps=s=>{Be(s),U(n[s].qa_status||""),le(!0)},bs=()=>{if(g===null||!f)return;const s=n[g],t=He(s.seo_self_qc_status,f),r={...s,qa_status:f,approval_status:t},a=[...n];a[g]=r,se(a),le(!1),Be(null),U("")},gs=()=>{if(pe===null)return;const s=He(c.seo_self_qc_status,c.qa_status),t={...c,approval_status:s},r=[...n];r[pe]=t,se(r),te(!1),Pe(null)},fs=s=>{s.target.files&&be([...O,...Array.from(s.target.files)])},js=s=>{s.preventDefault(),ge(!1),s.dataTransfer.files&&be([...O,...Array.from(s.dataTransfer.files)])},Ne=s=>{s.preventDefault(),s.type==="dragenter"||s.type==="dragover"?ge(!0):s.type==="dragleave"&&ge(!1)},vs=s=>{be(O.filter((t,r)=>r!==s))},Ns=s=>{H.includes(s)?fe(H.filter(t=>t!==s)):fe([...H,s])},Ke=s=>{k.includes(s)?he(k.filter(t=>t!==s)):he([...k,s])},ys=()=>{const s={};return ce.trim()||(s.seoTitle="Title is required"),me.trim()||(s.metaTitle="Meta Title is required"),Z.trim()||(s.description="Description is required"),ue.trim()||(s.anchorText="Anchor Text is required"),ee||(s.primaryKeyword="Primary Keyword is required"),cs(s),Object.keys(s).length===0},Qe=s=>({name:ce||me,linked_asset_id:ke,linked_task_id:L,linked_campaign_id:T,linked_project_id:P,linked_service_id:b,linked_sub_service_ids:A,linked_repository_item_id:R,asset_type:oe,asset_category:Je,type:oe,sector_id:Xe,industry_id:Ze,seo_title:ce,seo_meta_title:me,seo_description:Z,meta_description:Z,service_url:Ce,blog_url:Ae,anchor_text:ue,primary_keyword_id:ee,lsi_keywords:k,domain_type:D,seo_domains:n,blog_content:re,body_content:re,assigned_team_members:H,created_by:ne.id,verified_by:je,version_number:Fe,status:s,application_type:"seo"}),ks=async()=>{ae(!0);try{const s=Qe("Draft"),t=await fetch(`${m}/seo-assets`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(t.ok)alert("SEO Asset saved as draft successfully!"),d?.("assets");else{const r=await t.json();alert(`Error: ${r.message||"Failed to save"}`)}}catch{alert("Failed to save SEO Asset")}finally{ae(!1)}},ws=async()=>{if(!ys()){alert("Please complete all required fields before submitting");return}ae(!0);try{const s=Qe("Pending QC Review"),t=await fetch(`${m}/seo-assets`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(t.ok)alert("SEO Asset submitted for QC successfully!"),d?.("assets");else{const r=await t.json();alert(`Error: ${r.message||"Failed to submit"}`)}}catch{alert("Failed to submit SEO Asset")}finally{ae(!1)}},_s=()=>{confirm("Are you sure you want to discard all changes?")&&d?.("assets")};return e.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-slate-50 via-green-50/30 to-emerald-50/40",children:[e.jsx("div",{className:"flex-shrink-0 bg-white/80 backdrop-blur-sm border-b border-slate-200/60 px-6 py-3 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>d?.("assets"),className:"w-9 h-9 flex items-center justify-center rounded-xl bg-slate-100 hover:bg-slate-200 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center shadow-lg shadow-green-500/25",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-slate-800",children:"SEO Asset Module"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Complete all 12 steps in order"})]})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg flex items-center justify-center text-white text-sm font-bold",children:"1"}),e.jsx("h3",{className:"text-base font-bold text-slate-800",children:"Asset ID Selection"}),e.jsx("span",{className:"text-xs text-blue-500 font-medium bg-blue-50 px-2 py-0.5 rounded",children:"Optional"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-1.5 text-sm font-medium text-slate-600 mb-2",children:["Asset ID",e.jsx("span",{className:"text-xs text-slate-400",children:"(Select to auto-fill linked details, or skip for manual entry)"})]}),e.jsxs("select",{value:ke||"",onChange:s=>ms(Number(s.target.value)),disabled:W||C,className:`w-full h-11 px-4 bg-slate-50 border rounded-xl text-sm focus:ring-2 focus:ring-green-500/20 focus:border-green-400 transition-all ${W||C?"bg-slate-100 cursor-not-allowed":"border-slate-200"}`,children:[e.jsx("option",{value:"",children:"Select Asset ID (Optional)..."}),N.map(s=>e.jsxs("option",{value:s.id,children:[String(s.id).padStart(4,"0")," - ",s.name]},s.id))]}),q&&e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("svg",{className:"animate-spin w-4 h-4 text-blue-500",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("p",{className:"text-xs text-blue-600",children:"Fetching linked details..."})]}),W&&!C&&!q&&e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Asset ID selected. Linked details auto-filled from asset."]}),e.jsx("button",{type:"button",onClick:Oe,className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Change Selection"})]}),C&&e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("p",{className:"text-xs text-amber-600 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Manual entry mode. Enter all details manually."]}),e.jsx("button",{type:"button",onClick:Oe,className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Select Asset ID Instead"})]}),!W&&!C&&e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Select an existing asset to auto-fill linked details, or skip to enter manually"}),e.jsx("button",{type:"button",onClick:us,className:"text-xs text-amber-600 hover:text-amber-800 underline",children:"Skip & Enter Manually"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm ",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-lg flex items-center justify-center text-white text-sm font-bold",children:"2"}),e.jsx("h3",{className:"text-base font-bold text-slate-800",children:"Map Assets to Source Work"}),q&&e.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded flex items-center gap-1",children:[e.jsxs("svg",{className:"animate-spin w-3 h-3",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}),o&&!q&&e.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs font-medium rounded",children:"Auto-filled from Asset"}),C&&e.jsx("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 text-xs font-medium rounded",children:"Manual Entry"})]}),e.jsx("p",{className:"text-sm text-blue-600 mb-4 ml-11",children:q?"Fetching linked details from asset...":o?"Linked details fetched from selected Asset ID (read-only)":"Link the selected Asset ID to its originating work/source"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:["Linked Task",o&&L&&e.jsx("span",{className:"text-green-500 ml-1",children:"✓"})]}),o?e.jsx("div",{className:"w-full h-10 px-3 bg-slate-100 border border-slate-200 rounded-xl text-sm flex items-center text-slate-700",children:q?e.jsx("span",{className:"text-slate-400",children:"Loading..."}):L?_.find(s=>s.id===L)?.task_name||_.find(s=>s.id===L)?.name||`Task #${L}`:e.jsx("span",{className:"text-slate-400",children:"Not linked"})}):e.jsxs("select",{value:L||"",onChange:s=>M(s.target.value?Number(s.target.value):null),className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 ",children:[e.jsx("option",{value:"",children:"Select Task..."}),_.map(s=>e.jsx("option",{value:s.id,children:s.task_name||s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:["Linked Campaign",o&&T&&e.jsx("span",{className:"text-green-500 ml-1",children:"✓"})]}),o?e.jsx("div",{className:"w-full h-10 px-3 bg-slate-100 border border-slate-200 rounded-xl text-sm flex items-center text-slate-700",children:T?K.find(s=>s.id===T)?.campaign_name||`Campaign #${T}`:e.jsx("span",{className:"text-slate-400",children:"Not linked"})}):e.jsxs("select",{value:T||"",onChange:s=>$(s.target.value?Number(s.target.value):null),className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 ",children:[e.jsx("option",{value:"",children:"Select Campaign..."}),K.map(s=>e.jsx("option",{value:s.id,children:s.campaign_name},s.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:["Linked Project",o&&P&&e.jsx("span",{className:"text-green-500 ml-1",children:"✓"})]}),o?e.jsx("div",{className:"w-full h-10 px-3 bg-slate-100 border border-slate-200 rounded-xl text-sm flex items-center text-slate-700",children:P?E.find(s=>s.id===P)?.project_name||`Project #${P}`:e.jsx("span",{className:"text-slate-400",children:"Not linked"})}):e.jsxs("select",{value:P||"",onChange:s=>B(s.target.value?Number(s.target.value):null),className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 ",children:[e.jsx("option",{value:"",children:"Select Project..."}),E.map(s=>e.jsx("option",{value:s.id,children:s.project_name},s.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:["Linked Service",o&&b&&e.jsx("span",{className:"text-green-500 ml-1",children:"✓"})]}),o?e.jsx("div",{className:"w-full h-10 px-3 bg-slate-100 border border-slate-200 rounded-xl text-sm flex items-center text-slate-700",children:b?S.find(s=>s.id===b)?.service_name||`Service #${b}`:e.jsx("span",{className:"text-slate-400",children:"Not linked"})}):e.jsxs("select",{value:b||"",onChange:s=>{I(s.target.value?Number(s.target.value):null),y([])},className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 ",children:[e.jsx("option",{value:"",children:"Select Service..."}),S.map(s=>e.jsx("option",{value:s.id,children:s.service_name},s.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:["Linked Sub-Services",o&&A.length>0&&e.jsx("span",{className:"text-green-500 ml-1",children:"✓"})]}),o?e.jsx("div",{className:"w-full px-3 py-2 bg-slate-100 border border-slate-200 rounded-xl text-sm text-slate-700",children:A.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(s=>e.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:u.find(t=>t.id===s)?.sub_service_name||`Sub-Service #${s}`},s))}):e.jsx("span",{className:"text-slate-400",children:"Not linked"})}):e.jsx("div",{className:"space-y-2",children:b?Ve.length===0?e.jsx("p",{className:"text-xs text-slate-400 bg-slate-50 p-2 rounded",children:"No sub-services available"}):e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ve.map(s=>e.jsxs("label",{className:"flex items-center gap-2 p-2 bg-slate-50 rounded hover:bg-blue-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:A.includes(s.id),onChange:t=>{t.target.checked?y([...A,s.id]):y(A.filter(r=>r!==s.id))},disabled:!ve,className:"w-4 h-4 text-blue-600 rounded"}),e.jsx("span",{className:"text-xs text-slate-700",children:s.sub_service_name})]},s.id))}):e.jsx("p",{className:"text-xs text-slate-400 bg-slate-50 p-2 rounded",children:"Select a service first"})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:["Linked Repository Item",o&&R&&e.jsx("span",{className:"text-green-500 ml-1",children:"✓"})]}),o?e.jsx("div",{className:"w-full h-10 px-3 bg-slate-100 border border-slate-200 rounded-xl text-sm flex items-center text-slate-700",children:R?Q.find(s=>s.id===R)?.content_title_clean||`Repository #${R}`:e.jsx("span",{className:"text-slate-400",children:"Not linked"})}):e.jsxs("select",{value:R||"",onChange:s=>F(s.target.value?Number(s.target.value):null),className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 ",children:[e.jsx("option",{value:"",children:"Select Repository Item..."}),Q.map(s=>e.jsx("option",{value:s.id,children:s.content_title_clean||`Item #${s.id}`},s.id))]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm ",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg flex items-center justify-center text-white text-sm font-bold",children:"3"}),e.jsx("h3",{className:"text-base font-bold text-slate-800",children:"SEO Metadata Fields & Anchor Text"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-1.5 text-sm font-medium text-slate-600 mb-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-rose-500 rounded-full"}),"Description *"]}),e.jsx("textarea",{value:Z,onChange:s=>Se(s.target.value),rows:3,placeholder:"Enter SEO Description",className:`w-full px-3 py-2 bg-slate-50 border rounded-xl text-sm focus:ring-2 focus:ring-green-500/20 focus:border-green-400 resize-none  ${j.description?"border-rose-500":"border-slate-200"}`}),j.description&&e.jsx("p",{className:"text-xs text-rose-500 mt-1",children:j.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Service URL (Optional)"}),e.jsx("input",{type:"url",value:Ce,onChange:s=>Le(s.target.value),placeholder:"https://example.com/service",className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-green-500/20 focus:border-green-400 "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Blog URL (Optional)"}),e.jsx("input",{type:"url",value:Ae,onChange:s=>De(s.target.value),placeholder:"https://example.com/blog",className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-green-500/20 focus:border-green-400 "})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-1.5 text-sm font-medium text-slate-600 mb-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-rose-500 rounded-full"}),"Anchor Text *"]}),e.jsx("input",{type:"text",value:ue,onChange:s=>Me(s.target.value),placeholder:"Enter Anchor Text",className:`w-full h-10 px-3 bg-slate-50 border rounded-xl text-sm focus:ring-2 focus:ring-green-500/20 focus:border-green-400  ${j.anchorText?"border-rose-500":"border-slate-200"}`}),j.anchorText&&e.jsx("p",{className:"text-xs text-rose-500 mt-1",children:j.anchorText})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm ",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-violet-500 rounded-lg flex items-center justify-center text-white text-sm font-bold",children:"4"}),e.jsx("h3",{className:"text-base font-bold text-slate-800",children:"Keywords"}),e.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs font-medium rounded",children:"From Keyword Master"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"flex items-center gap-1.5 text-sm font-medium text-slate-600 mb-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-rose-500 rounded-full"}),"Primary Keyword *"]}),e.jsxs("select",{value:ee||"",onChange:s=>Te(s.target.value?Number(s.target.value):null),className:`w-full h-10 px-3 bg-slate-50 border rounded-xl text-sm focus:ring-2 focus:ring-purple-500/20 focus:border-purple-400  ${j.primaryKeyword?"border-rose-500":"border-slate-200"}`,children:[e.jsx("option",{value:"",children:"Select from Keyword Master..."}),v.map(s=>e.jsxs("option",{value:s.id,children:[s.keyword,s.keyword_type?` (${s.keyword_type})`:"",s.search_volume?` - Vol: ${s.search_volume.toLocaleString()}`:""]},s.id))]}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"No manual entry - select from master only"}),j.primaryKeyword&&e.jsx("p",{className:"text-xs text-rose-500 mt-1",children:j.primaryKeyword})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:["LSI Keywords ",e.jsx("span",{className:"text-slate-400 text-xs",children:"(Optional)"})]}),k.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:k.map(s=>{const t=v.find(r=>r.id===s);return t?e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:[t.keyword,t.keyword_type&&e.jsxs("span",{className:"text-purple-400",children:["(",t.keyword_type,")"]}),e.jsx("button",{type:"button",onClick:()=>Ke(s),className:"w-4 h-4 flex items-center justify-center hover:bg-purple-200 rounded-full",children:"×"})]},s):null})}),e.jsxs("select",{value:"",onChange:s=>{const t=Number(s.target.value);t&&!k.includes(t)&&Ke(t)},className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-purple-500/20 focus:border-purple-400 ",children:[e.jsx("option",{value:"",children:"Add LSI keyword from master..."}),v.filter(s=>s.id!==ee&&!k.includes(s.id)).map(s=>e.jsxs("option",{value:s.id,children:[s.keyword,s.keyword_type?` (${s.keyword_type})`:"",s.search_volume?` - Vol: ${s.search_volume.toLocaleString()}`:""]},s.id))]}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Select from Keyword Master only - no manual entry"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm ",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-lg flex items-center justify-center text-white text-sm font-bold",children:"5"}),e.jsx("h3",{className:"text-base font-bold text-slate-800",children:"Domain Type & Domain Addition"}),e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-600 text-xs font-medium rounded",children:"From Backlink Master"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Domain Type"}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs("select",{value:D,onChange:s=>$e(s.target.value),className:"flex-1 h-11 px-4 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400",children:[e.jsx("option",{value:"",children:"Select domain type..."}),xs.map((s,t)=>e.jsx("option",{value:s,children:s},t))]}),e.jsxs("button",{onClick:()=>{if(D){const s=`${D}-${Date.now()}`;hs(s)}},disabled:!D,className:"flex items-center gap-2 h-11 px-6 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all font-medium text-sm whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Domain"]})]})]}),n.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Managed Assets"})]}),e.jsxs("span",{className:"text-xs text-slate-500",children:["Total Domains: ",n.length]})]}),e.jsx("div",{className:"bg-slate-50 rounded-t-xl border border-slate-200 border-b-0",children:e.jsxs("div",{className:"grid grid-cols-12 gap-2 px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wide",children:[e.jsx("div",{className:"col-span-3",children:"Domain Details"}),e.jsx("div",{className:"col-span-3",children:"Posted URL"}),e.jsx("div",{className:"col-span-2 text-center",children:"Self QC"}),e.jsx("div",{className:"col-span-2 text-center",children:"QA Status"}),e.jsx("div",{className:"col-span-2 text-center",children:"Actions"})]})}),e.jsx("div",{className:"border border-slate-200 rounded-b-xl overflow-hidden divide-y divide-slate-100",children:n.map((s,t)=>e.jsxs("div",{className:"grid grid-cols-12 gap-2 px-4 py-3 items-center bg-white hover:bg-slate-50/50 transition-colors",children:[e.jsx("div",{className:"col-span-3",children:e.jsxs("button",{onClick:()=>ze(t),className:"text-left hover:text-blue-600 transition-colors",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600 hover:underline",children:s.domain_name}),e.jsx("p",{className:"text-xs text-slate-400",children:D||"Guest Post"})]})}),e.jsx("div",{className:"col-span-3",children:s.url_posted?e.jsx("a",{href:s.url_posted,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline truncate block max-w-[180px]",children:s.url_posted}):e.jsx("span",{className:"text-xs text-slate-400 italic",children:"Not posted yet"})}),e.jsx("div",{className:"col-span-2 text-center",children:e.jsxs("span",{className:`inline-flex items-center gap-1 text-xs px-2.5 py-1 rounded-full font-medium ${s.seo_self_qc_status==="Approved"?"bg-green-100 text-green-700":s.seo_self_qc_status==="Rejected"?"bg-rose-100 text-rose-700":"bg-amber-100 text-amber-700"}`,children:[s.seo_self_qc_status==="Pending"&&e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.seo_self_qc_status||"Pending"]})}),e.jsx("div",{className:"col-span-2 text-center",children:e.jsx("span",{className:`inline-flex items-center text-xs px-2.5 py-1 rounded-full font-medium border ${s.qa_status==="Pass"?"bg-green-50 text-green-700 border-green-200":s.qa_status==="Fail"?"bg-rose-50 text-rose-700 border-rose-200":"bg-slate-50 text-slate-600 border-slate-200"}`,children:s.qa_status==="Pass"?"Pass":s.qa_status==="Fail"?"Fail":"Review Pending"})}),e.jsxs("div",{className:"col-span-2 flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>ze(t),className:"p-1.5 text-slate-400 hover:text-blue-500 hover:bg-blue-50 rounded-lg transition-colors",title:"Update Domain & Self QC",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("button",{onClick:r=>{r.stopPropagation(),ps(t)},className:"p-1.5 text-slate-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"QA Verifier Review",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})]},t))})]}),n.length===0&&e.jsxs("div",{className:"text-center py-8 bg-slate-50 rounded-xl border border-dashed border-slate-200 mt-4",children:[e.jsx("svg",{className:"w-10 h-10 text-slate-300 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"No domains added yet"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Select a domain type and enter a domain URL to add."})]})]})]}),rs&&pe!==null&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4 shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Domain Update & Self QC"}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Domain: ",c.domain_name]})]})]}),e.jsx("button",{onClick:()=>te(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Posted URL ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"url",value:c.url_posted,onChange:s=>V({...c,url_posted:s.target.value}),placeholder:"https://guires.com/",className:"w-full h-11 px-4 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 transition-all"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1.5",children:"Include http:// or https:// for direct linking."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Self QC Status"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>V({...c,seo_self_qc_status:"Pending"}),className:`flex-1 py-3 px-4 rounded-xl border-2 text-sm font-medium transition-all ${c.seo_self_qc_status==="Pending"?"border-amber-400 bg-amber-50 text-amber-700":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"}`,children:"Pending"}),e.jsxs("button",{type:"button",onClick:()=>V({...c,seo_self_qc_status:"Approved"}),className:`flex-1 py-3 px-4 rounded-xl border-2 text-sm font-medium transition-all flex items-center justify-center gap-2 ${c.seo_self_qc_status==="Approved"?"border-green-400 bg-green-50 text-green-700":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"}`,children:[c.seo_self_qc_status==="Approved"&&e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Approved"]}),e.jsx("button",{type:"button",onClick:()=>V({...c,seo_self_qc_status:"Rejected"}),className:`flex-1 py-3 px-4 rounded-xl border-2 text-sm font-medium transition-all ${c.seo_self_qc_status==="Rejected"?"border-rose-400 bg-rose-50 text-rose-700":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"}`,children:"Rejected"})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-slate-50 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>te(!1),className:"px-5 py-2.5 text-sm font-medium text-slate-600 hover:bg-slate-200 rounded-xl transition-colors",children:"Cancel"}),e.jsx("button",{onClick:gs,className:"px-5 py-2.5 text-sm font-medium bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors",children:"Update Entry"})]})]})}),as&&g!==null&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4 shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Verifier QA Review"}),e.jsx("p",{className:"text-xs text-slate-500",children:n[g]?.domain_name})]})]}),e.jsx("button",{onClick:()=>le(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Type"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:D||"Guest Post"})]}),e.jsx("div",{className:"border-t border-slate-200"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Posted URL"}),e.jsx("a",{href:n[g]?.url_posted||"#",target:"_blank",rel:"noopener noreferrer",className:"block text-sm text-blue-600 hover:underline mt-1 truncate",children:n[g]?.url_posted||"Not posted yet"})]}),e.jsx("div",{className:"border-t border-slate-200"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Self QC Result"}),e.jsx("span",{className:`text-sm font-semibold ${n[g]?.seo_self_qc_status==="Approved"?"text-green-600":n[g]?.seo_self_qc_status==="Rejected"?"text-rose-600":"text-amber-600"}`,children:n[g]?.seo_self_qc_status||"Pending"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-slate-800 text-center mb-4",children:"Final Verification Status"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>U("Pass"),className:`flex-1 py-6 px-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${f==="Pass"?"border-green-400 bg-green-50":"border-slate-200 bg-white hover:border-green-300 hover:bg-green-50/50"}`,children:[e.jsx("svg",{className:`w-8 h-8 ${f==="Pass"?"text-green-600":"text-slate-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),e.jsx("span",{className:`text-sm font-semibold ${f==="Pass"?"text-green-700":"text-slate-600"}`,children:"Pass"})]}),e.jsxs("button",{type:"button",onClick:()=>U("Fail"),className:`flex-1 py-6 px-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${f==="Fail"?"border-rose-400 bg-rose-50":"border-slate-200 bg-white hover:border-rose-300 hover:bg-rose-50/50"}`,children:[e.jsx("svg",{className:`w-8 h-8 ${f==="Fail"?"text-rose-600":"text-slate-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"})}),e.jsx("span",{className:`text-sm font-semibold ${f==="Fail"?"text-rose-700":"text-slate-600"}`,children:"Fail"})]})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-slate-50 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>{le(!1),U("")},className:"px-5 py-2.5 text-sm font-medium text-slate-600 hover:bg-slate-200 rounded-xl transition-colors",children:"Discard"}),e.jsx("button",{onClick:bs,disabled:!f,className:"px-5 py-2.5 text-sm font-medium bg-slate-800 text-white rounded-xl hover:bg-slate-900 transition-colors  disabled:cursor-not-allowed",children:"Submit Verdict"})]})]})}),Ue&&ve&&e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-rose-500 to-pink-500 rounded-lg flex items-center justify-center text-white text-sm font-bold",children:"7"}),e.jsx("h3",{className:"text-base font-bold text-slate-800",children:"Blog Posting - Content Editor"}),e.jsx("span",{className:"text-xs bg-rose-100 text-rose-600 px-2 py-0.5 rounded-full",children:"Conditional: Asset Type = Blog Posting"})]}),e.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Rich text editor with headings, formatting, links, and paragraphs support"}),e.jsx("div",{className:"border border-slate-200 rounded-xl overflow-hidden",children:e.jsx(Cs,{value:re,onChange:Ie,placeholder:"Write your blog content here with full formatting support..."})}),e.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Word count: ",re.split(/\s+/).filter(Boolean).length," words"]})]}),!Ue&&ve&&e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm opacity-50 pointer-events-none",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-slate-400 to-slate-500 rounded-lg flex items-center justify-center text-white text-sm font-bold",children:"7"}),e.jsx("h3",{className:"text-base font-bold text-slate-800",children:"Blog Posting - Content Editor"}),e.jsx("span",{className:"text-xs bg-slate-100 text-slate-500 px-2 py-0.5 rounded-full",children:"Hidden: Asset Type ≠ Blog Posting"})]}),e.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"Content editor is only visible when Asset Type = Blog Posting"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm ",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-500 to-rose-500 rounded-lg flex items-center justify-center text-white text-sm font-bold",children:"8"}),e.jsx("h3",{className:"text-base font-bold text-slate-800",children:"Resource File Upload"})]}),e.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Multiple files allowed - Files linked to Asset ID and Asset Type"}),e.jsxs("div",{onDragEnter:Ne,onDragLeave:Ne,onDragOver:Ne,onDrop:js,className:`border-2 border-dashed rounded-xl p-8 text-center transition-all ${ns?"border-pink-400 bg-pink-50":"border-slate-200 hover:border-slate-300"}`,children:[e.jsx("input",{type:"file",multiple:!0,onChange:fs,className:"hidden",id:"resource-upload"}),e.jsxs("label",{htmlFor:"resource-upload",className:"cursor-pointer ",children:[e.jsx("div",{className:"w-14 h-14 bg-pink-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-7 h-7 text-pink-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),e.jsxs("p",{className:"text-sm text-slate-600",children:[e.jsx("span",{className:"font-semibold text-pink-500",children:"Drag & drop"})," files, or ",e.jsx("span",{className:"font-semibold text-pink-500",children:"browse"})]}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"PDF, DOC, DOCX, TXT, Images up to 10MB each"})]})]}),O.length>0&&e.jsx("div",{className:"mt-4 space-y-2",children:O.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-pink-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-700",children:s.name}),e.jsxs("p",{className:"text-xs text-slate-400",children:[(s.size/1024).toFixed(1)," KB"]})]})]}),e.jsx("button",{onClick:()=>vs(t),className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-rose-500 hover:bg-rose-50",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t))})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm ",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-amber-500 to-orange-500 rounded-lg flex items-center justify-center text-white text-sm font-bold",children:"10"}),e.jsx("h3",{className:"text-base font-bold text-slate-800",children:"Designer & Workflow"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Assign Team Members (Multi-select - All Users)"}),e.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-slate-50 border border-slate-200 rounded-xl min-h-[44px]",children:i.filter(s=>s.status==="active").map(s=>e.jsx("button",{onClick:()=>Ns(s.id),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${H.includes(s.id)?"bg-amber-500 text-white":"bg-white border border-slate-200 text-slate-600 hover:border-amber-400"} `,children:s.name},s.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Created By (Auto - Logged-in User)"}),e.jsx("input",{type:"text",value:ne.name||`User #${ne.id}`,disabled:!0,className:"w-full h-10 px-3 bg-slate-100 border border-slate-200 rounded-xl text-sm text-slate-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Verified By (SEO) - All Users"}),e.jsxs("select",{value:je||"",onChange:s=>Re(s.target.value?Number(s.target.value):null),className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 ",children:[e.jsx("option",{value:"",children:"Select Verifier..."}),i.filter(s=>s.status==="active").map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm ",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-slate-600 to-slate-700 rounded-lg flex items-center justify-center text-white text-sm font-bold",children:"11"}),e.jsx("h3",{className:"text-base font-bold text-slate-800",children:"Versioning"})]}),e.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Track changes across submissions - New version created on every re-submit after rejection"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Version Number (Auto-Increment)"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl font-bold text-slate-800",children:Fe}),e.jsx("span",{className:"text-xs text-slate-400",children:"Previous versions remain read-only"})]})]}),e.jsx("button",{onClick:()=>os(!qe),className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium ",children:"View Version History"})]}),qe&&e.jsxs("div",{className:"mt-4 bg-slate-50 rounded-xl p-4 border border-slate-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Version History"}),Ee.length>0?e.jsx("div",{className:"space-y-2",children:Ee.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-slate-600",children:s.version}),e.jsx("span",{className:"text-slate-400",children:s.date}),e.jsx("span",{className:"text-xs bg-slate-200 text-slate-600 px-2 py-0.5 rounded",children:s.action})]},t))}):e.jsx("p",{className:"text-sm text-slate-400",children:"No previous versions - This is the initial version"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm ",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-lg flex items-center justify-center text-white text-sm font-bold",children:"12"}),e.jsx("h3",{className:"text-base font-bold text-slate-800",children:"Actions - Save, Submit, Discard"})]}),e.jsx("div",{className:"bg-slate-50 rounded-xl p-4 mb-4",children:e.jsxs("p",{className:"text-xs text-slate-500",children:[e.jsx("span",{className:"font-semibold",children:"Save (Draft):"})," Stores data without validation completion",e.jsx("br",{}),e.jsx("span",{className:"font-semibold",children:"Submit:"})," Triggers validations and workflow",e.jsx("br",{}),e.jsx("span",{className:"font-semibold",children:"Discard:"})," Clears unsaved data"]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:_s,disabled:z,className:"px-5 py-2.5 border border-slate-200 rounded-xl text-sm font-semibold text-slate-600 hover:bg-slate-50 transition-colors ",children:"Discard"}),e.jsx("button",{onClick:ks,disabled:z,className:"px-5 py-2.5 bg-slate-600 text-white rounded-xl text-sm font-semibold hover:bg-slate-700 transition-colors ",children:z?"Saving...":"Save (Draft)"}),e.jsx("button",{onClick:ws,disabled:z,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-xl text-sm font-semibold hover:opacity-90 transition-all ",children:z?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):e.jsxs(e.Fragment,{children:["Submit (For QC / Approval)",e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})]})]})})]})};export{Ts as default};
