{
  "version": 2,
  "buildCommand": "npm install --legacy-peer-deps && cd frontend && npm install --legacy-peer-deps --production=false && npm run build",
  "outputDirectory": "frontend/dist",
  "installCommand": "npm install --legacy-peer-deps",
  "env": {
    "NODE_ENV": "production",
    "VITE_API_URL": "/api/v1",
    "ADMIN_EMAIL": "admin@example.com",
    "ADMIN_PASSWORD": "$2a$10$bxntNCf1U22OFzHCPGWoY.bHLLy8Y0fnXs51.LK6Eu8m./KWTHrt.",
    "JWT_SECRET": "your-super-secret-jwt-key-change-this-in-production-12345",
    "JWT_EXPIRES_IN": "7d",
    "DB_CLIENT": "pg",
    "USE_PG": "true",
    "SUPABASE_URL": "https://nouyqizbqgoyscryexeg.supabase.co",
    "SUPABASE_ANON_KEY": "sb_publishable_fzIkuQRYsy9TlRL0yY3l9w_AmREcEvk",
    "DATABASE_URL": "postgresql://postgres:HeiWPgZkRkBWhWtr@db.nouyqizbqgoyscryexeg.supabase.co:5432/postgres",
    "DB_HOST": "db.nouyqizbqgoyscryexeg.supabase.co",
    "DB_PORT": "5432",
    "DB_USER": "postgres",
    "DB_PASSWORD": "HeiWPgZkRkBWhWtr",
    "DB_NAME": "postgres"
  },
  "functions": {
    "api/**/*.ts": {
      "memory": 1024,
      "maxDuration": 60
    }
  },
  "routes": [
    {
      "src": "/api/health",
      "dest": "/api/health.ts"
    },
    {
      "src": "/api/auth",
      "dest": "/api/auth.ts"
    },
    {
      "src": "/api/v1/assetLibrary(?:/(.*))?$",
      "dest": "/api/v1/assetLibrary.ts"
    },
    {
      "src": "/(.*\\.js)$",
      "headers": {
        "Content-Type": "application/javascript; charset=utf-8"
      }
    },
    {
      "src": "/(.*\\.mjs)$",
      "headers": {
        "Content-Type": "application/javascript; charset=utf-8"
      }
    },
    {
      "src": "/(.*\\.css)$",
      "headers": {
        "Content-Type": "text/css; charset=utf-8"
      }
    },
    {
      "src": "/(.*\\.(png|jpg|jpeg|gif|svg|ico|woff|woff2|ttf|eot))$"
    },
    {
      "src": "/(.*)",
      "dest": "/index.html"
    }
  ]
}