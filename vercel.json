{
  "version": 2,
  "buildCommand": "npm run build:frontend",
  "outputDirectory": "frontend/dist",
  "installCommand": "npm install --legacy-peer-deps && cd frontend && npm install --legacy-peer-deps && cd ..",
  "functions": {
    "api/**/*.ts": {
      "runtime": "nodejs20.x",
      "memory": 1024
    }
  },
  "env": {
    "NODE_ENV": "production",
    "VITE_API_URL": "/api/v1",
    "ADMIN_EMAIL": "admin@example.com",
    "ADMIN_PASSWORD": "$2a$10$bxntNCf1U22OFzHCPGWoY.bHLLy8Y0fnXs51.LK6Eu8m./KWTHrt.",
    "JWT_SECRET": "your-super-secret-jwt-key-change-this-in-production-12345",
    "JWT_EXPIRES_IN": "7d",
    "DB_CLIENT": "sqlite",
    "USE_PG": "false"
  },
  "routes": [
    {
      "src": "/(.*\\.js)$",
      "headers": {
        "Content-Type": "application/javascript; charset=utf-8"
      }
    },
    {
      "src": "/(.*\\.mjs)$",
      "headers": {
        "Content-Type": "application/javascript; charset=utf-8"
      }
    },
    {
      "src": "/(.*\\.css)$",
      "headers": {
        "Content-Type": "text/css; charset=utf-8"
      }
    },
    {
      "src": "/(.*\\.(png|jpg|jpeg|gif|svg|ico|woff|woff2|ttf|eot))$"
    },
    {
      "src": "/(.*)",
      "dest": "/index.html"
    }
  ]
}