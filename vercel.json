{
  "version": 2,
  "buildCommand": "npm run build:frontend",
  "outputDirectory": "frontend/dist",
  "installCommand": "npm install --legacy-peer-deps && cd frontend && npm install --legacy-peer-deps && cd ..",
  "env": {
    "NODE_ENV": "production",
    "ADMIN_EMAIL": "admin@example.com",
    "ADMIN_PASSWORD": "$2a$10$bxntNCf1U22OFzHCPGWoY.bHLLy8Y0fnXs51.LK6Eu8m./KWTHrt.",
    "JWT_SECRET": "your-super-secret-jwt-key-change-this-in-production-12345",
    "JWT_EXPIRES_IN": "7d",
    "DB_CLIENT": "sqlite",
    "USE_PG": "false"
  },
  "routes": [
    {
      "src": "/api/(.*)",
      "dest": "/api.ts"
    },
    {
      "src": "/health",
      "dest": "/api.ts"
    },
    {
      "src": "/(.*\\.js)$",
      "dest": "/frontend/dist/$1"
    },
    {
      "src": "/(.*\\.css)$",
      "dest": "/frontend/dist/$1"
    },
    {
      "src": "/(.*\\.(png|jpg|jpeg|gif|svg|ico|woff|woff2|ttf|eot))$",
      "dest": "/frontend/dist/$1"
    },
    {
      "src": "/(.*)",
      "dest": "/frontend/dist/index.html"
    }
  ]
}