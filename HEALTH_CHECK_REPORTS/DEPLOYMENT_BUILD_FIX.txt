DEPLOYMENT BUILD FIX - February 6, 2026
=====================================

ISSUE RESOLVED:
- Vite command not found error during Vercel build
- Root cause: devDependencies not being installed in frontend directory

SOLUTION APPLIED:
1. Updated vercel.json buildCommand to use npm run vercel-build script
2. Updated package.json vercel-build script to explicitly install both root and frontend dependencies
3. Ensured --legacy-peer-deps flag is used throughout

CHANGES MADE:
- vercel.json: buildCommand changed to "npm run vercel-build"
- package.json: vercel-build script updated to install root deps, then frontend deps, then build

BUILD COMMAND FLOW:
1. npm install --legacy-peer-deps (root dependencies)
2. cd frontend && npm install --legacy-peer-deps (frontend dependencies including vite)
3. npm run build (vite build command)

DEPLOYMENT STATUS:
- Changes pushed to master branch
- Commit: 832893c
- Ready for Vercel redeploy

NEXT STEPS:
1. Go to Vercel dashboard
2. Click "Redeploy" on the latest commit
3. Monitor build logs for success
4. Once build succeeds, test data persistence:
   - Navigate to https://guries.vercel.app
   - Login with credentials
   - Create a test asset
   - Refresh page - asset should persist
   - Redeploy and verify asset still exists after redeployment

DATABASE CONFIGURATION:
- PostgreSQL via Supabase (no more SQLite data loss)
- Connection pool configured in backend/config/db.ts
- Environment variables set in Vercel
- Schema initialized with all required tables

API ROUTING:
- api/v1/[[...route]].ts proxies requests to Express backend
- No more 405 errors from mock data handlers
