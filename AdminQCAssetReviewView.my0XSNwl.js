import{e as de,r as n,u as c,j as e}from"./index.Cgn8UqAd.js";import{A as ce}from"./AssetDetailSidePanel.DLRsI4_c.js";const pe=({onNavigate:L})=>{const{user:o,hasPermission:F}=de(),G=F("canViewAdminQCReview"),[t,g]=n.useState(null),[h,S]=n.useState(!1),[b,f]=n.useState(!1),[i,K]=n.useState("pending"),[R,M]=n.useState(null),[q,Q]=n.useState(!1),[B,y]=n.useState(0),[j,N]=n.useState(""),P=s=>{switch(s){case"seo":return{"SEO Title Optimization":!1,"Meta Description Quality":!1,"Keyword Density Check":!1,"H1/H2 Structure":!1,"Internal/External Links":!1,"Content Readability":!1};case"smm":return{"Platform Guidelines Compliance":!1,"Visual Quality & Dimensions":!1,"Caption & Hashtag Quality":!1,"Brand Voice Consistency":!1,"CTA Effectiveness":!1,"Engagement Potential":!1};default:return{"Brand Compliance":!1,"Technical Specs Met":!1,"Content Quality":!1,"SEO Optimization":!1,"Legal / Regulatory Check":!1,"Tone of Voice":!1}}},[x,T]=n.useState(P("web")),{data:l=[],loading:v,refresh:X}=c("assetLibrary"),{data:D=[]}=c("users"),{data:H=[]}=c("services");c("tasks");const{data:J=[]}=c("asset-category-master"),{data:Y=[]}=c("asset-type-master"),Z=n.useMemo(()=>{const s=new Map;return D.forEach(r=>s.set(r.id,r)),s},[D]),[w,ee]=n.useState(!1);n.useEffect(()=>{!v&&!w&&ee(!0)},[v,w]);const k=!w&&v,se=s=>{const r=s.linked_service_id||s.linked_service_ids&&s.linked_service_ids[0];return r&&H.find(d=>d.id===r)?.service_name||"-"},O=s=>s.submitted_by&&Z.get(s.submitted_by)?.name||"-",E=s=>s.asset_type?Y.find(a=>a.asset_type_name?.toLowerCase()===s.asset_type?.toLowerCase())?.asset_type_name||s.asset_type:"-",te=s=>s.asset_category?J.find(a=>a.category_name?.toLowerCase()===s.asset_category?.toLowerCase())?.category_name||s.asset_category:"-",re=s=>{const r=s.qc_status||s.status||"Pending";return["Approved","QC Approved","Published"].includes(r)?e.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Approved"}):["Rejected"].includes(r)?e.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-800",children:"Rejected"}):["Rework"].includes(r)?e.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-semibold bg-orange-100 text-orange-800",children:"Rework"}):e.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-800",children:"Pending"})},W=s=>{const r=s.submitted_at||s.created_at;return r?new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-"},_=s=>{const r=(s.qc_status||"").toLowerCase(),a=(s.status||"").toLowerCase();return r==="qc pending"||r===""||a==="draft"||a==="pending qc review"||a==="pending"},C=s=>(s.qc_status||"").toLowerCase()==="rework"||(s.status||"").toLowerCase()==="rework requested",z=s=>["approved","qc approved","published"].includes((s.qc_status||s.status||"").toLowerCase()),$=s=>(s.qc_status||s.status||"").toLowerCase()==="rejected",m=n.useMemo(()=>{switch(i){case"pending":return l.filter(_);case"rework":return l.filter(C);case"approved":return l.filter(z);case"rejected":return l.filter($);default:return l}},[l,i]),ae=n.useMemo(()=>({all:l.length,pending:l.filter(_).length,rework:l.filter(C).length,approved:l.filter(z).length,rejected:l.filter($).length}),[l]),ne=s=>_(s)||C(s),I=s=>{M(s),Q(!0)},le=()=>{Q(!1),M(null)},V=async()=>{S(!0);try{await X?.()}finally{setTimeout(()=>S(!1),500)}},ie=s=>{g(s),y(s.qc_score||0),N(s.qc_remarks||""),T(P(s.application_type))},A=async s=>{if(!t||!o){alert("No asset selected or user not logged in");return}f(!0);try{const r="/api/v1";let a="";if(s==="approved"?a=`${r}/qc-review/approve`:s==="rejected"?a=`${r}/qc-review/reject`:s==="rework"&&(a=`${r}/qc-review/rework`),(s==="rejected"||s==="rework")&&!j?.trim()){alert("Please enter remarks/feedback for "+(s==="rejected"?"rejection":"rework request")),f(!1);return}const d=localStorage.getItem("authToken"),u={"Content-Type":"application/json","X-User-Id":String(o.id),"X-User-Role":o.role};d&&(u.Authorization=`Bearer ${d}`);const U=await fetch(a,{method:"POST",headers:u,body:JSON.stringify({asset_id:t.id,qc_score:B||0,qc_remarks:j?.trim()||"",qc_reviewer_id:o.id,user_role:o.role,checklist_items:x,checklist_completion:Object.values(x).every(p=>p)})});if(U.ok)alert(s==="approved"?"Asset approved and linked to service!":s==="rework"?"Asset sent for rework!":"Asset rejected!"),g(null),y(0),N(""),V();else{const p=await U.json().catch(()=>({})),oe=p.error||"Failed to submit QC review";console.error("QC Submit error:",p),alert(`Error: ${oe}`)}}catch(r){console.error("QC Submit error:",r),alert(`Failed to submit QC review: ${r.message||"Network error"}`)}finally{f(!1)}};if(!G)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"This screen is restricted to Admin accounts only. You do not have permission to access the Admin QC Asset Review."}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:[e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:"Current Role:"})," ",o?.role||"Unknown"]}),e.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Contact your administrator if you believe you should have access."})]}),e.jsx("button",{onClick:()=>L?.("assets"),className:"px-6 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors",children:"Go to Assets"})]})});if(t){const s=H.find(r=>r.id===(t.linked_service_id||t.linked_service_ids?.[0]));return e.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>g(null),className:"text-gray-500 hover:text-gray-700 flex items-center gap-1 text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to List"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-bold uppercase tracking-wide",children:"Admin QC Review"}),e.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-medium",children:["Reviewer: ",o?.name]})]})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-400 text-sm mb-1",children:["Asset #",t.id]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium",children:t.application_type?.toUpperCase()||"WEB"}),e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded text-xs font-medium",children:E(t)}),t.rework_count&&t.rework_count>0&&e.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded text-xs font-medium",children:["Rework #",t.rework_count]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Submitted By"}),e.jsx("p",{className:"text-sm font-semibold text-gray-800",children:O(t)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:W(t)})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 h-72 flex items-center justify-center mb-6",children:t.thumbnail_url||t.file_url?e.jsx("img",{src:t.thumbnail_url||t.file_url,alt:t.name,className:"max-h-full max-w-full object-contain"}):e.jsx("span",{className:"text-gray-400 text-sm",children:"No media attached"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-rose-500 text-sm font-medium block mb-1",children:"Description"}),e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:t.web_description||t.seo_content_description||t.smm_description||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-rose-500 text-sm font-medium block mb-1",children:"Linked Service"}),e.jsx("p",{className:"text-gray-700 text-sm",children:s?.service_name||"-"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-5",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.seo_score??"-"}),e.jsx("div",{className:"text-xs text-blue-600",children:"SEO Score"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-100",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.grammar_score??"-"}),e.jsx("div",{className:"text-xs text-green-600",children:"Grammar Score"})]})]}),t.keywords&&t.keywords.length>0&&e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"text-rose-500 text-sm font-medium block mb-2",children:"Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.keywords.map((r,a)=>e.jsx("span",{className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-full text-xs font-medium border border-blue-200",children:r},a))})]}),(t.web_body_content||t.smm_description)&&e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"text-rose-500 text-sm font-medium block mb-2",children:"Body Content"}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4 max-h-96 overflow-y-auto",children:e.jsx("div",{className:"prose prose-sm max-w-none text-gray-700",dangerouslySetInnerHTML:{__html:t.web_body_content||t.smm_description||""}})})]}),(t.web_h1||t.web_h2_1||t.web_h2_2)&&e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"text-rose-500 text-sm font-medium block mb-2",children:"Heading Tags"}),e.jsxs("div",{className:"space-y-2",children:[t.web_h1&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded text-xs font-bold",children:"H1"}),e.jsx("span",{className:"text-gray-700 text-sm",children:t.web_h1})]}),t.web_h2_1&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-xs font-bold",children:"H2"}),e.jsx("span",{className:"text-gray-700 text-sm",children:t.web_h2_1})]}),t.web_h2_2&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-xs font-bold",children:"H2"}),e.jsx("span",{className:"text-gray-700 text-sm",children:t.web_h2_2})]}),t.web_h3_tags&&t.web_h3_tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.web_h3_tags.map((r,a)=>e.jsxs("div",{className:"flex items-start gap-1",children:[e.jsx("span",{className:"px-2 py-0.5 bg-cyan-100 text-cyan-700 rounded text-xs font-bold",children:"H3"}),e.jsx("span",{className:"text-gray-600 text-sm",children:r})]},a))})]})]}),t.web_meta_description&&e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"text-rose-500 text-sm font-medium block mb-2",children:"Meta Description"}),e.jsx("p",{className:"text-gray-700 text-sm bg-gray-50 rounded-lg border border-gray-200 p-3",children:t.web_meta_description})]}),t.web_url&&e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"text-rose-500 text-sm font-medium block mb-1",children:"URL Slug"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),e.jsx("span",{className:"text-gray-700 text-sm",children:t.web_url})]})]})]}),e.jsxs("div",{className:"w-96 bg-white rounded-xl shadow-sm border-2 border-red-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-4 pb-3 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Admin QC Assessment"})]}),e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-bold",children:"ADMIN"})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"QC Score (0-100)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:B,onChange:r=>y(Number(r.target.value)),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-base",placeholder:"0"})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"Compliance Checklist"}),e.jsx("div",{className:"space-y-2.5 max-h-48 overflow-y-auto",children:Object.entries(x).map(([r,a])=>e.jsxs("label",{className:"flex items-center gap-2.5 cursor-pointer p-2 hover:bg-gray-50 rounded-lg",children:[e.jsx("input",{type:"checkbox",checked:a,onChange:d=>T(u=>({...u,[r]:d.target.checked})),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),e.jsx("span",{className:"text-gray-600 text-sm",children:r})]},r))}),e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[Object.values(x).filter(r=>r).length," / ",Object.keys(x).length," completed"]})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Remarks / Feedback"}),e.jsx("textarea",{value:j,onChange:r=>N(r.target.value),rows:4,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none text-sm",placeholder:"Enter detailed feedback for the asset creator..."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>A("rejected"),disabled:b,className:"flex-1 px-4 py-2.5 border-2 border-red-400 text-red-500 rounded-lg font-semibold hover:bg-red-50 transition-colors disabled:opacity-50 flex items-center justify-center gap-1.5 text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Reject"]}),e.jsxs("button",{onClick:()=>A("approved"),disabled:b,className:"flex-1 px-4 py-2.5 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-1.5 text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Approve"]})]}),e.jsx("button",{onClick:()=>A("rework"),disabled:b,className:"w-full px-4 py-2.5 border-2 border-orange-400 text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors disabled:opacity-50 text-sm",children:"Request Rework"})]}),e.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"All QC actions are logged with timestamp and user identity"]})})]})]})]})}return e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin QC Asset Review"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Review and approve assets submitted for quality control"})]}),e.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm font-bold uppercase tracking-wide",children:"Admin Only"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>L?.("assets"),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Assets"]}),e.jsxs("button",{onClick:V,disabled:h,className:`px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center gap-2 ${h?"opacity-75 cursor-not-allowed":""}`,children:[e.jsx("svg",{className:`w-4 h-4 ${h?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),h?"Refreshing...":"Refresh"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:i==="all"?"All Assets":i==="pending"?"Pending QC Review":i==="rework"?"Assets Requiring Rework":i==="approved"?"Approved Assets":"Rejected Assets"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[m.length," asset",m.length!==1?"s":""]})]}),e.jsx("div",{className:"px-6 py-3 border-b border-gray-100 bg-gray-50",children:e.jsx("div",{className:"flex gap-2 flex-wrap",children:[{key:"pending",label:"Pending",color:"amber"},{key:"rework",label:"Rework",color:"orange"},{key:"approved",label:"Approved",color:"green"},{key:"rejected",label:"Rejected",color:"red"},{key:"all",label:"All",color:"gray"}].map(s=>e.jsxs("button",{onClick:()=>K(s.key),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${i===s.key?"bg-red-600 text-white":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:[s.label," (",ae[s.key],")"]},s.key))})}),k&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-red-600 mb-4"}),e.jsx("span",{className:"text-gray-500",children:"Loading assets..."})]}),!k&&m.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"No Assets Found"}),e.jsxs("p",{className:"text-gray-500 text-sm",children:['No assets match the "',i,'" filter.']})]}),!k&&m.length>0&&e.jsx("div",{className:"overflow-x-auto",style:{maxHeight:"calc(100vh - 350px)"},children:e.jsxs("table",{className:"w-full",style:{minWidth:"max-content"},children:[e.jsx("thead",{className:"bg-gray-50 border-b-2 border-gray-200 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Thumbnail"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Asset Name"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Submitted By"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Type"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Category"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Service"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"QC Status"}),e.jsx("th",{className:"px-4 py-4 text-center text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"SEO"}),e.jsx("th",{className:"px-4 py-4 text-center text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Grammar"}),e.jsx("th",{className:"px-4 py-4 text-center text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Rework"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Submitted"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:m.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center border border-gray-200",children:s.thumbnail_url||s.file_url?e.jsx("img",{src:s.thumbnail_url||s.file_url,alt:s.name||s.name,className:"w-full h-full object-cover"}):e.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("button",{onClick:()=>I(s),className:"text-indigo-600 hover:text-indigo-800 font-medium text-sm text-left hover:underline truncate max-w-[200px]",children:s.name||"Untitled Asset"})}),e.jsx("td",{className:"px-4 py-4 text-gray-700 text-sm",children:O(s)}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"px-2.5 py-1 bg-purple-100 text-purple-700 rounded text-xs font-medium",children:E(s)})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"px-2.5 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium",children:te(s)})}),e.jsx("td",{className:"px-4 py-4 text-gray-700 text-sm",children:se(s)}),e.jsx("td",{className:"px-4 py-4",children:re(s)}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center justify-center min-w-[2.5rem] px-2 py-0.5 rounded text-xs font-medium ${(s.seo_score??0)>=80?"bg-green-100 text-green-700":(s.seo_score??0)>=60?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-600"}`,children:s.seo_score??"-"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center justify-center min-w-[2.5rem] px-2 py-0.5 rounded text-xs font-medium ${(s.grammar_score??0)>=80?"bg-green-100 text-green-700":(s.grammar_score??0)>=60?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-600"}`,children:s.grammar_score??"-"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:s.rework_count&&s.rework_count>0?e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-orange-100 text-orange-700 rounded-full text-xs font-bold",children:s.rework_count}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"px-4 py-4 text-gray-700 text-sm",children:W(s)}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>I(s),className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200",children:"View"}),ne(s)&&e.jsx("button",{onClick:()=>ie(s),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700",children:"Review"})]})})]},s.id))})]})})]}),q&&R&&e.jsx(ce,{asset:R,isOpen:q,onClose:le})]})};export{pe as default};
