import{u as A,r,j as e,R as z}from"./index.Cgn8UqAd.js";import{D as F}from"./download.io5_EtDe.js";import{c as _,P as I,X as N,a as P,T as W}from"./x.BiCs_uOD.js";import{S as U}from"./search.CVVJ0o-x.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],B=_("eye-off",Y);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Q=_("eye",G),v=["Editorial","Core","Blog","Pillar","Landing Page","Case Study","Whitepaper","Guide","Article","Tutorial","News","Product","Service","Other"],$=["Content Writer","Designer","Developer","SEO Specialist","Manager","Other"],X=()=>{const{data:i,create:w,update:C,remove:k,loading:S}=A("content-types"),[o,f]=r.useState(""),[x,O]=r.useState(""),[u,E]=r.useState(""),[q,j]=r.useState(!1),[p,h]=r.useState(null),[g,M]=r.useState(null),[t,a]=r.useState({content_type:"",category:"",description:"",default_wordcount_min:500,default_wordcount_max:2e3,default_graphic_requirements:"",default_qc_checklist:"",seo_focus_keywords_required:1,social_media_applicable:1,estimated_creation_hours:4,content_owner_role:"",use_in_campaigns:1,status:"active"});r.useMemo(()=>[...new Set(i.map(s=>s.category))].filter(Boolean).sort(),[i]);const m=r.useMemo(()=>i.filter(s=>{const n=s.content_type.toLowerCase().includes(o.toLowerCase())||s.category.toLowerCase().includes(o.toLowerCase())||s.description.toLowerCase().includes(o.toLowerCase()),c=!x||s.category===x,d=!u||s.status===u;return n&&c&&d}),[i,o,x,u]),y=s=>{s?(h(s),a(s)):(h(null),a({content_type:"",category:"",description:"",default_wordcount_min:500,default_wordcount_max:2e3,default_graphic_requirements:"",default_qc_checklist:"",seo_focus_keywords_required:1,social_media_applicable:1,estimated_creation_hours:4,content_owner_role:"",use_in_campaigns:1,status:"active"})),j(!0)},b=()=>{j(!1),h(null)},R=async()=>{if(!t.content_type||!t.category){alert("Please fill in all required fields");return}try{p?await C(p.id,t):await w(t),b()}catch{alert("Failed to save. Please try again.")}},D=async s=>{if(window.confirm("Are you sure you want to delete this content type?"))try{await k(s)}catch{alert("Failed to delete. Please try again.")}},L=()=>{const s=[["Content Type","Category","Description","Min Words","Max Words","Creation Hours","Owner Role","SEO Required","Social Applicable","Use in Campaigns","Status"],...m.map(l=>[l.content_type,l.category,l.description||"",l.default_wordcount_min||"",l.default_wordcount_max||"",l.estimated_creation_hours||"",l.content_owner_role||"",l.seo_focus_keywords_required?"Yes":"No",l.social_media_applicable?"Yes":"No",l.use_in_campaigns?"Yes":"No",l.status])].map(l=>l.map(T=>`"${T}"`).join(",")).join(`
`),n=new Blob([s],{type:"text/csv"}),c=window.URL.createObjectURL(n),d=document.createElement("a");d.href=c,d.download=`content-type-master-${new Date().toISOString().split("T")[0]}.csv`,d.click(),window.URL.revokeObjectURL(c)};return e.jsxs("div",{className:"space-y-6 h-full overflow-y-auto w-full pr-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Content Type Master"}),e.jsx("p",{className:"text-slate-500 mt-1",children:"Manage content types, categories, and default attributes for campaigns"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:L,className:"flex items-center gap-2 bg-white text-slate-700 border border-slate-300 px-4 py-2 rounded-lg font-medium text-sm hover:bg-slate-50 shadow-sm transition-colors",children:[e.jsx(F,{size:16}),"Export"]}),e.jsxs("button",{onClick:()=>y(),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg font-medium text-sm hover:bg-blue-700 shadow-sm transition-colors",children:[e.jsx(I,{size:16}),"Add Content Type"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 space-y-4",children:[e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search content types, categories...",value:o,onChange:s=>f(s.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o&&e.jsx("button",{onClick:()=>f(""),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(N,{size:18,className:"text-slate-400"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("select",{value:x,onChange:s=>O(s.target.value),className:"px-4 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[e.jsx("option",{value:"",children:"All Categories"}),v.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{value:u,onChange:s=>E(s.target.value),className:"px-4 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider w-8"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Content Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Word Count"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Creation Hours"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Owner Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:S?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-slate-500",children:"Loading..."})}):m.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-slate-500",children:"No records found"})}):m.map(s=>e.jsxs(z.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>M(g===s.id?null:s.id),className:"p-1 hover:bg-slate-200 rounded transition-colors",children:g===s.id?e.jsx(B,{size:16}):e.jsx(Q,{size:16})})}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:s.content_type}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:s.category})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-slate-700",children:[s.default_wordcount_min,"-",s.default_wordcount_max]}),e.jsxs("td",{className:"px-6 py-4 text-sm text-slate-700",children:[s.estimated_creation_hours,"h"]}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:s.content_owner_role||"-"}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="active"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:s.status==="active"?"✓ Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>y(s),className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit",children:e.jsx(P,{size:16})}),e.jsx("button",{onClick:()=>D(s.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:e.jsx(W,{size:16})})]})})]}),g===s.id&&e.jsx("tr",{className:"bg-slate-50 border-t-2 border-slate-200",children:e.jsx("td",{colSpan:8,className:"px-6 py-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-sm text-slate-700",children:s.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Flags"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsxs("li",{children:["SEO Keywords Required: ",s.seo_focus_keywords_required?"✓ Yes":"✗ No"]}),e.jsxs("li",{children:["Social Media Applicable: ",s.social_media_applicable?"✓ Yes":"✗ No"]}),e.jsxs("li",{children:["Use in Campaigns: ",s.use_in_campaigns?"✓ Yes":"✗ No"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Graphic Requirements"}),e.jsx("pre",{className:"text-xs bg-slate-100 p-2 rounded overflow-auto max-h-32",children:s.default_graphic_requirements?JSON.stringify(JSON.parse(s.default_graphic_requirements),null,2):"None"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"QC Checklist"}),e.jsx("div",{className:"text-sm bg-slate-100 p-3 rounded",children:s.default_qc_checklist?e.jsx("ul",{className:"space-y-1",children:JSON.parse(s.default_qc_checklist).map((n,c)=>e.jsxs("li",{children:[n.mandatory?"✓":"○"," ",n.item]},c))}):"None"})]})]})})})]},s.id))})]})}),e.jsxs("div",{className:"px-6 py-3 bg-slate-50 border-t border-slate-200 text-sm text-slate-600",children:["Showing ",m.length," of ",i.length," records"]})]}),q&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:p?"Edit Content Type":"Add New Content Type"}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-slate-100 rounded transition-colors",children:e.jsx(N,{size:20,className:"text-slate-400"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Content Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:t.content_type||"",onChange:s=>a({...t,content_type:s.target.value}),placeholder:"e.g., Blog, Pillar, Landing Page",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:t.category||"",onChange:s=>a({...t,category:s.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[e.jsx("option",{value:"",children:"Select a category..."}),v.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),e.jsx("textarea",{value:t.description||"",onChange:s=>a({...t,description:s.target.value}),placeholder:"Describe this content type and its use cases...",rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Default Word Count Range"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Minimum Words"}),e.jsx("input",{type:"number",value:t.default_wordcount_min||500,onChange:s=>a({...t,default_wordcount_min:parseInt(s.target.value)}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Maximum Words"}),e.jsx("input",{type:"number",value:t.default_wordcount_max||2e3,onChange:s=>a({...t,default_wordcount_max:parseInt(s.target.value)}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Creation & Ownership"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Estimated Creation Hours"}),e.jsx("input",{type:"number",step:"0.5",value:t.estimated_creation_hours||4,onChange:s=>a({...t,estimated_creation_hours:parseFloat(s.target.value)}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content Owner Role"}),e.jsxs("select",{value:t.content_owner_role||"",onChange:s=>a({...t,content_owner_role:s.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[e.jsx("option",{value:"",children:"Select a role..."}),$.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Flags & Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.seo_focus_keywords_required===1,onChange:s=>a({...t,seo_focus_keywords_required:s.target.checked?1:0}),className:"w-4 h-4 rounded border-slate-300"}),e.jsx("span",{className:"text-sm text-slate-700",children:"SEO Focus Keywords Required"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.social_media_applicable===1,onChange:s=>a({...t,social_media_applicable:s.target.checked?1:0}),className:"w-4 h-4 rounded border-slate-300"}),e.jsx("span",{className:"text-sm text-slate-700",children:"Applicable for Social Media"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.use_in_campaigns===1,onChange:s=>a({...t,use_in_campaigns:s.target.checked?1:0}),className:"w-4 h-4 rounded border-slate-300"}),e.jsx("span",{className:"text-sm text-slate-700",children:"Can be Used in Campaigns"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),e.jsxs("select",{value:t.status||"active",onChange:s=>a({...t,status:s.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," Graphic requirements and QC checklists can be configured in advanced settings after creation."]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-slate-50 border-t border-slate-200 px-6 py-4 flex justify-end gap-3",children:[e.jsx("button",{onClick:b,className:"px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:R,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:p?"Update":"Create"})]})]})})]})};export{X as default};
