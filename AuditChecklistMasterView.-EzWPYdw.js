import{u as S,r as l,j as e,g as A}from"./index.Cgn8UqAd.js";import{T as E}from"./Table.qlFSYBMu.js";import{M as T}from"./Modal.Dm3XWcYn.js";import{e as M}from"./csvHelper.D2kXyc6K.js";import"./index.Cjd9_PBs.js";const D=["All Types","Content","SEO","Web","SMM","Backlinks","Analytics","Competitor","Repository"],J=()=>{const{data:m,create:u,update:x,remove:p}=S("qcChecklists"),[d,g]=l.useState(""),[c,b]=l.useState("All Types"),[n,F]=l.useState("All Status"),[y,r]=l.useState(!1),[o,i]=l.useState(null),[s,a]=l.useState({checklist_name:"",checklist_type:"Content",category:"Editorial",number_of_items:0,scoring_mode:"Weighted",pass_threshold:"90%",rework_threshold:"75%",status:"Active"}),h=m.filter(t=>{const N=(t.checklist_name||"").toLowerCase().includes(d.toLowerCase()),_=c==="All Types"||t.checklist_type===c,w=n==="All Status"||t.status===n;return N&&_&&w}),f=t=>{i(t),a(t),r(!0)},k=async t=>{confirm("Delete this checklist?")&&await p(t)},j=async()=>{o?await x(o.id,{...s,updated_at:"Just now"}):await u({...s,updated_at:"Just now"}),r(!1),i(null),a({checklist_name:"",checklist_type:"Content",category:"Editorial",number_of_items:0,scoring_mode:"Weighted",pass_threshold:"90%",rework_threshold:"75%",status:"Active"})},v=()=>{M(h,"audit_checklist_master_export")},C=[{header:"Checklist Name",accessor:"checklist_name",className:"font-bold text-slate-800"},{header:"Type",accessor:"checklist_type"},{header:"Category",accessor:"category"},{header:"Items",accessor:"number_of_items",className:"text-center"},{header:"Scoring",accessor:"scoring_mode"},{header:"Pass %",accessor:"pass_threshold",className:"font-bold text-green-600"},{header:"Status",accessor:t=>A(t.status||"Active")},{header:"Actions",accessor:t=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>f(t),className:"text-slate-400 hover:text-blue-600",children:"Edit"}),e.jsx("button",{onClick:()=>k(t.id),className:"text-slate-400 hover:text-red-600",children:"Del"})]})}];return e.jsxs("div",{className:"space-y-6 h-full overflow-y-auto w-full pr-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"Audit Checklist Master"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:v,className:"bg-white text-slate-600 border border-slate-300 px-4 py-2 rounded-lg font-medium text-sm hover:bg-slate-50 shadow-sm transition-colors",children:"Export"}),e.jsx("button",{onClick:()=>{i(null),r(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium text-sm hover:bg-blue-700 shadow-sm",children:"Create New Checklist"})]})]}),e.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col gap-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[e.jsx("input",{type:"search",className:"block w-full p-2.5 border border-gray-300 rounded-lg",placeholder:"Search checklists...",value:d,onChange:t=>g(t.target.value)}),e.jsx("select",{value:c,onChange:t=>b(t.target.value),className:"bg-slate-50 border border-slate-300 text-sm rounded-lg p-2.5",children:D.map(t=>e.jsx("option",{value:t,children:t},t))})]})}),e.jsx(E,{columns:C,data:h,title:"Master Checklists"}),e.jsx(T,{isOpen:y,onClose:()=>r(!1),title:o?"Edit Checklist":"Create Checklist",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Checklist Name"}),e.jsx("input",{type:"text",value:s.checklist_name,onChange:t=>a({...s,checklist_name:t.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),e.jsxs("select",{value:s.checklist_type,onChange:t=>a({...s,checklist_type:t.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md p-2",children:[e.jsx("option",{children:"Content"}),e.jsx("option",{children:"SEO"}),e.jsx("option",{children:"Web"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),e.jsx("input",{type:"text",value:s.category,onChange:t=>a({...s,category:t.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pass %"}),e.jsx("input",{type:"text",value:s.pass_threshold,onChange:t=>a({...s,pass_threshold:t.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsxs("select",{value:s.status,onChange:t=>a({...s,status:t.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md p-2",children:[e.jsx("option",{children:"Active"}),e.jsx("option",{children:"Inactive"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{onClick:j,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Save"})})]})})]})};export{J as default};
