import{u as O,r,j as e,g as A}from"./index.Cgn8UqAd.js";import{T as I}from"./Table.qlFSYBMu.js";import{M as L}from"./Modal.Dm3XWcYn.js";import{p as B,e as D}from"./csvHelper.D2kXyc6K.js";import"./index.Cjd9_PBs.js";const p=["All","SEO","Content","Technical","UX","SMM","Backlink","Page Experience"],W=()=>{const{data:b,create:u,update:f,remove:v}=O("goldStandards"),[c,y]=r.useState("All"),[h,w]=r.useState(""),[j,l]=r.useState(!1),[i,m]=r.useState(null),[a,s]=r.useState({metric_name:"",category:"SEO",gold_standard_value:"",acceptable_range_min:"",acceptable_range_max:"",unit:"",evidence_link:"",status:"active"}),n=r.useRef(null),g=b.filter(t=>{const o=t.metric_name.toLowerCase().includes(h.toLowerCase()),d=c==="All"||t.category===c;return o&&d}),k=t=>{m(t),s(t),l(!0)},N=async t=>{confirm("Are you sure you want to delete this benchmark?")&&await v(t)},_=async()=>{i?await f(i.id,{...a,updated_on:new Date().toISOString().split("T")[0]}):await u({...a,updated_on:new Date().toISOString().split("T")[0]}),l(!1),m(null),s({metric_name:"",category:"SEO",gold_standard_value:"",acceptable_range_min:"",acceptable_range_max:"",unit:"",evidence_link:"",status:"active"})},S=()=>{D(g,"gold_standard_benchmarks")},C=()=>{n.current?.click()},E=async t=>{if(t.target.files&&t.target.files[0]){try{const o=await B(t.target.files[0]);let d=0;for(const x of o)x.metric_name&&x.category&&(await u({...x,updated_on:new Date().toISOString().split("T")[0]}),d++);alert(`Successfully imported ${d} benchmarks.`)}catch{alert("Error parsing CSV file.")}n.current&&(n.current.value="")}},M=[{header:"Metric Name",accessor:"metric_name",className:"font-medium text-slate-800"},{header:"Category",accessor:t=>e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${t.category==="SEO"?"bg-blue-100 text-blue-800":t.category==="Technical"?"bg-purple-100 text-purple-800":t.category==="UX"?"bg-pink-100 text-pink-800":t.category==="Content"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-600"}`,children:t.category})},{header:"Gold Standard Value",accessor:"gold_standard_value",className:"font-bold text-emerald-600"},{header:"Range",accessor:"acceptable_range_min",className:"text-xs font-mono"},{header:"Unit",accessor:"unit",className:"text-xs text-slate-500"},{header:"Evidence",accessor:"evidence_link",className:"text-xs italic text-slate-500"},{header:"Updated On",accessor:"updated_on",className:"text-xs text-slate-400"},{header:"Status",accessor:t=>A(t.status||"")},{header:"Actions",accessor:t=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>k(t),className:"text-blue-600 hover:text-blue-800",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),e.jsx("button",{onClick:()=>N(t.id),className:"text-red-600 hover:text-red-800",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}];return e.jsxs("div",{className:"space-y-6 h-full overflow-y-auto w-full pr-1 animate-fade-in",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"Gold Standard Benchmark Master"}),e.jsx("p",{className:"text-slate-500 mt-1",children:"Store ideal expected benchmarks for all KPIs across SEO, content, technical, and UX metrics."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("input",{type:"file",ref:n,onChange:E,accept:".csv",style:{display:"none"}}),e.jsx("button",{onClick:C,className:"bg-white text-slate-600 border border-slate-300 px-4 py-2.5 rounded-lg font-medium text-sm hover:bg-slate-50 shadow-sm transition-colors",children:"Import"}),e.jsx("button",{onClick:S,className:"bg-white text-slate-600 border border-slate-300 px-4 py-2.5 rounded-lg font-medium text-sm hover:bg-slate-50 shadow-sm transition-colors",children:"Export"}),e.jsxs("button",{onClick:()=>{m(null),l(!0)},className:"bg-blue-600 text-white px-4 py-2.5 rounded-lg font-medium text-sm hover:bg-blue-700 shadow-sm transition-colors flex items-center",children:[e.jsx("span",{className:"mr-2",children:"+"})," Add Gold Standard"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col gap-4",children:[e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:e.jsxs("div",{className:"relative flex-1 w-full md:w-auto md:max-w-md",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),e.jsx("input",{type:"search",className:"block w-full p-2.5 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-slate-50 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Search gold standard metrics...",value:h,onChange:t=>w(t.target.value)})]})}),e.jsx("div",{className:"flex flex-wrap gap-2 border-t border-slate-100 pt-3",children:p.map(t=>e.jsx("button",{onClick:()=>y(t),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ${c===t?"bg-indigo-100 text-indigo-700 ring-2 ring-indigo-500/20":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:t},t))})]}),e.jsx(I,{columns:M,data:g,title:"Benchmarks Directory"}),e.jsx(L,{isOpen:j,onClose:()=>l(!1),title:i?"Edit Benchmark":"Add Benchmark",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Metric Name"}),e.jsx("input",{type:"text",value:a.metric_name,onChange:t=>s({...a,metric_name:t.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),e.jsx("select",{value:a.category,onChange:t=>s({...a,category:t.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",children:p.filter(t=>t!=="All").map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gold Standard Value"}),e.jsx("input",{type:"text",value:a.gold_standard_value,onChange:t=>s({...a,gold_standard_value:t.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Min Range"}),e.jsx("input",{type:"text",value:a.acceptable_range_min,onChange:t=>s({...a,acceptable_range_min:t.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Unit"}),e.jsx("input",{type:"text",value:a.unit,onChange:t=>s({...a,unit:t.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Evidence / Source"}),e.jsx("input",{type:"text",value:a.evidence_link,onChange:t=>s({...a,evidence_link:t.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{onClick:_,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Save"})})]})})]})};export{W as default};
