import{e as g,r,j as e}from"./index.Cgn8UqAd.js";const f=({onNavigate:c})=>{const{hasPermission:x}=g(),m=x("canViewAdminConsole"),[i,n]=r.useState([{id:1,widget_name:"Performance Overview",description:"Key performance metrics summary",widget_type:"Chart",data_source:"Performance API",refresh_interval:"5 min",roles_visible:"All",position:1,status:"Active"},{id:2,widget_name:"Task Progress",description:"Task completion status by team",widget_type:"Progress Bar",data_source:"Tasks API",refresh_interval:"1 min",roles_visible:"All",position:2,status:"Active"},{id:3,widget_name:"QC Status",description:"Quality control review status",widget_type:"Donut Chart",data_source:"QC API",refresh_interval:"5 min",roles_visible:"Admin, QC",position:3,status:"Active"},{id:4,widget_name:"Team Leaderboard",description:"Top performers this month",widget_type:"Table",data_source:"Scoring API",refresh_interval:"1 hour",roles_visible:"All",position:4,status:"Active"},{id:5,widget_name:"Campaign Analytics",description:"Active campaign performance",widget_type:"Line Chart",data_source:"Campaigns API",refresh_interval:"15 min",roles_visible:"Manager, Admin",position:5,status:"Active"}]),[h,l]=r.useState(!1),[d,o]=r.useState(null),[t,a]=r.useState({widget_name:"",description:"",widget_type:"Chart",data_source:"",refresh_interval:"5 min",roles_visible:"All",position:1,status:"Active"});if(!m)return e.jsx("div",{className:"h-full flex items-center justify-center bg-slate-50",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"w-20 h-20 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"Only administrators can access this configuration."})]})});const u=()=>{n(d?i.map(s=>s.id===d.id?{...s,...t}:s):[...i,{...t,id:Date.now()}]),l(!1),o(null),a({widget_name:"",description:"",widget_type:"Chart",data_source:"",refresh_interval:"5 min",roles_visible:"All",position:1,status:"Active"})},p=s=>{o(s),a(s),l(!0)},v=s=>{confirm("Are you sure you want to delete this widget?")&&n(i.filter(b=>b.id!==s))};return e.jsxs("div",{className:"h-full flex flex-col bg-slate-50 animate-fade-in overflow-hidden",children:[e.jsx("div",{className:"bg-white border-b border-slate-200 px-6 py-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>c?.("admin-console-config"),className:"p-2 hover:bg-slate-100 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"âŠž"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Dashboard Configuration"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Customize dashboard layouts, widgets, and data visualization"})]})]}),e.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-slate-700 text-white rounded-lg font-medium hover:bg-slate-800 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Widget"]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:i.map(s=>e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-10 h-10 bg-slate-100 rounded-lg flex items-center justify-center text-slate-600",children:[s.widget_type==="Chart"&&"ðŸ“Š",s.widget_type==="Progress Bar"&&"ðŸ“ˆ",s.widget_type==="Donut Chart"&&"ðŸ©",s.widget_type==="Table"&&"ðŸ“‹",s.widget_type==="Line Chart"&&"ðŸ“‰"]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-800",children:s.widget_name}),e.jsx("p",{className:"text-xs text-slate-500",children:s.widget_type})]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="Active"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:s.status})]}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:s.description}),e.jsxs("div",{className:"space-y-2 text-xs text-slate-500",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Data Source:"}),e.jsx("span",{className:"text-slate-700",children:s.data_source})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Refresh:"}),e.jsx("span",{className:"text-slate-700",children:s.refresh_interval})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Visible to:"}),e.jsx("span",{className:"text-slate-700",children:s.roles_visible})]})]}),e.jsxs("div",{className:"flex gap-2 pt-3 mt-3 border-t border-slate-100",children:[e.jsx("button",{onClick:()=>p(s),className:"flex-1 px-3 py-1.5 text-sm text-blue-600 hover:bg-blue-50 rounded-lg",children:"Edit"}),e.jsx("button",{onClick:()=>v(s.id),className:"flex-1 px-3 py-1.5 text-sm text-red-600 hover:bg-red-50 rounded-lg",children:"Delete"})]})]},s.id))})}),h&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>l(!1)}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-lg mx-4 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:d?"Edit Widget":"Add Widget"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Widget Name"}),e.jsx("input",{type:"text",value:t.widget_name,onChange:s=>a({...t,widget_name:s.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),e.jsx("textarea",{value:t.description,onChange:s=>a({...t,description:s.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",rows:2})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Widget Type"}),e.jsxs("select",{value:t.widget_type,onChange:s=>a({...t,widget_type:s.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",children:[e.jsx("option",{value:"Chart",children:"Chart"}),e.jsx("option",{value:"Progress Bar",children:"Progress Bar"}),e.jsx("option",{value:"Donut Chart",children:"Donut Chart"}),e.jsx("option",{value:"Table",children:"Table"}),e.jsx("option",{value:"Line Chart",children:"Line Chart"}),e.jsx("option",{value:"KPI Card",children:"KPI Card"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Refresh Interval"}),e.jsxs("select",{value:t.refresh_interval,onChange:s=>a({...t,refresh_interval:s.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",children:[e.jsx("option",{value:"1 min",children:"1 minute"}),e.jsx("option",{value:"5 min",children:"5 minutes"}),e.jsx("option",{value:"15 min",children:"15 minutes"}),e.jsx("option",{value:"1 hour",children:"1 hour"}),e.jsx("option",{value:"Manual",children:"Manual"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Data Source"}),e.jsx("input",{type:"text",value:t.data_source,onChange:s=>a({...t,data_source:s.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",placeholder:"e.g., Performance API"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Visible to Roles"}),e.jsx("input",{type:"text",value:t.roles_visible,onChange:s=>a({...t,roles_visible:s.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",placeholder:"e.g., All, Admin, Manager"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:u,className:"px-4 py-2 bg-slate-700 text-white rounded-lg",children:"Save"})]})]})]})]})};export{f as default};
