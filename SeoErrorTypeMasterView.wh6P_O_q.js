import{u as O,r as l,j as e,g as A}from"./index.Cgn8UqAd.js";import{T as M}from"./Table.qlFSYBMu.js";import{M as D}from"./Modal.Dm3XWcYn.js";import{e as _}from"./csvHelper.D2kXyc6K.js";import"./index.Cjd9_PBs.js";const L=["All Categories","On-page","Technical SEO"],I=["All Severity","High","Medium","Low"],B=()=>{const{data:m,create:h,update:p,remove:g}=O("seoErrors"),[d,y]=l.useState(""),[i,b]=l.useState("All Categories"),[c,v]=l.useState("All Severity"),[j,o]=l.useState(!1),[n,x]=l.useState(null),[r,s]=l.useState({error_type:"",category:"On-page",severity:"Medium",description:"",status:"Published"}),u=m.filter(t=>{const a=t.error_type.toLowerCase().includes(d.toLowerCase())||t.description.toLowerCase().includes(d.toLowerCase()),k=i==="All Categories"||t.category===i,T=c==="All Severity"||t.severity===c;return a&&k&&T}),f=t=>{let a="bg-gray-100 text-gray-800";return t==="High"?a="bg-red-100 text-red-800":t==="Medium"?a="bg-yellow-100 text-yellow-800":t==="Low"&&(a="bg-green-100 text-green-800"),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${a}`,children:t})},N=t=>{x(t),s(t),o(!0)},S=async t=>{confirm("Delete this error type?")&&await g(t)},w=async()=>{n?await p(n.id,r):await h(r),o(!1),x(null),s({error_type:"",category:"On-page",severity:"Medium",description:"",status:"Published"})},C=()=>{_(u,"seo_error_type_master_export")},E=[{header:"Error Type",accessor:"error_type",className:"font-bold text-slate-800"},{header:"Category",accessor:"category",className:"text-slate-600"},{header:"Severity",accessor:t=>f(t.severity)},{header:"Description",accessor:"description",className:"text-sm text-slate-600"},{header:"Status",accessor:t=>A(t.status)},{header:"Actions",accessor:t=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>N(t),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),e.jsx("button",{onClick:()=>S(t.id),className:"text-red-600 hover:text-red-800",children:"Del"})]})}];return e.jsxs("div",{className:"space-y-6 h-full overflow-y-auto w-full pr-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"SEO Error Type Master"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:C,className:"bg-white text-slate-600 border border-slate-300 px-4 py-2 rounded-lg font-medium text-sm hover:bg-slate-50 shadow-sm transition-colors",children:"Export"}),e.jsx("button",{onClick:()=>{x(null),o(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium text-sm hover:bg-blue-700 shadow-sm",children:"Add Error Type"})]})]}),e.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col gap-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[e.jsx("input",{type:"search",className:"block w-full p-2.5 border border-gray-300 rounded-lg",placeholder:"Search errors...",value:d,onChange:t=>y(t.target.value)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("select",{value:i,onChange:t=>b(t.target.value),className:"bg-slate-50 border border-slate-300 text-sm rounded-lg p-2.5",children:L.map(t=>e.jsx("option",{value:t,children:t},t))}),e.jsx("select",{value:c,onChange:t=>v(t.target.value),className:"bg-slate-50 border border-slate-300 text-sm rounded-lg p-2.5",children:I.map(t=>e.jsx("option",{value:t,children:t},t))})]})]})}),e.jsx(M,{columns:E,data:u,title:"SEO Error Registry"}),e.jsx(D,{isOpen:j,onClose:()=>o(!1),title:n?"Edit Error Type":"Add Error Type",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Error Type"}),e.jsx("input",{type:"text",value:r.error_type,onChange:t=>s({...r,error_type:t.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),e.jsxs("select",{value:r.category,onChange:t=>s({...r,category:t.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md p-2",children:[e.jsx("option",{children:"On-page"}),e.jsx("option",{children:"Technical SEO"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Severity"}),e.jsxs("select",{value:r.severity,onChange:t=>s({...r,severity:t.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md p-2",children:[e.jsx("option",{children:"High"}),e.jsx("option",{children:"Medium"}),e.jsx("option",{children:"Low"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("input",{type:"text",value:r.description,onChange:t=>s({...r,description:t.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsxs("select",{value:r.status,onChange:t=>s({...r,status:t.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md p-2",children:[e.jsx("option",{children:"Published"}),e.jsx("option",{children:"Draft"}),e.jsx("option",{children:"Archived"})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{onClick:w,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Save"})})]})})]})};export{B as default};
