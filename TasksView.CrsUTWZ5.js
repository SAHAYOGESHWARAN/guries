import{u as p,r as o,j as e}from"./index.Cgn8UqAd.js";import{e as z}from"./csvHelper.D2kXyc6K.js";const U=({name:l,size:i="sm"})=>{const r=l?.split(" ").map(f=>f[0]).join("").substring(0,2).toUpperCase()||"?",u=["bg-indigo-500","bg-emerald-500","bg-amber-500","bg-rose-500","bg-cyan-500","bg-violet-500"],x=u[(l?.length||0)%u.length],g=i==="sm"?"w-7 h-7 text-xs":"w-8 h-8 text-sm";return e.jsx("div",{className:`${g} rounded-full flex items-center justify-center text-white font-bold ${x}`,children:r})},Q=({priority:l})=>{const r={High:{bg:"bg-red-50",text:"text-red-700"},high:{bg:"bg-red-50",text:"text-red-700"},Medium:{bg:"bg-amber-50",text:"text-amber-700"},medium:{bg:"bg-amber-50",text:"text-amber-700"},Low:{bg:"bg-blue-50",text:"text-blue-700"},low:{bg:"bg-blue-50",text:"text-blue-700"}}[l]||{bg:"bg-slate-100",text:"text-slate-600"};return e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${r.bg} ${r.text}`,children:l})},V=({status:l})=>{const r={pending:{bg:"bg-slate-100",text:"text-slate-600",label:"Pending"},in_progress:{bg:"bg-indigo-50",text:"text-indigo-700",label:"In Progress"},completed:{bg:"bg-emerald-50",text:"text-emerald-700",label:"Completed"},on_hold:{bg:"bg-amber-50",text:"text-amber-700",label:"On Hold"},cancelled:{bg:"bg-red-50",text:"text-red-700",label:"Cancelled"}}[l?.toLowerCase()]||{bg:"bg-slate-100",text:"text-slate-600",label:l};return e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${r.bg} ${r.text}`,children:r.label})},O=({stage:l})=>{const r={"Not Started":{bg:"bg-slate-100",text:"text-slate-600"},"In Progress":{bg:"bg-indigo-50",text:"text-indigo-700"},Review:{bg:"bg-amber-50",text:"text-amber-700"},Completed:{bg:"bg-emerald-50",text:"text-emerald-700"}}[l]||{bg:"bg-slate-100",text:"text-slate-600"};return e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${r.bg} ${r.text}`,children:l||"Not Started"})},G=({stage:l})=>{const r={Pending:{bg:"bg-slate-100",text:"text-slate-600"},"In Review":{bg:"bg-amber-50",text:"text-amber-700"},Approved:{bg:"bg-emerald-50",text:"text-emerald-700"},Rejected:{bg:"bg-red-50",text:"text-red-700"},Rework:{bg:"bg-orange-50",text:"text-orange-700"}}[l]||{bg:"bg-slate-100",text:"text-slate-600"};return e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${r.bg} ${r.text}`,children:l||"Pending"})},J=({type:l})=>{const r={SEO:"bg-emerald-100 text-emerald-700",Content:"bg-indigo-100 text-indigo-700",SMM:"bg-pink-100 text-pink-700",Web:"bg-cyan-100 text-cyan-700",Backlink:"bg-violet-100 text-violet-700"}[l]||"bg-slate-100 text-slate-600";return e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${r}`,children:l||"-"})},Y=()=>{const{data:l,create:i,update:r,remove:u,refresh:x}=p("tasks"),{data:g}=p("users"),{data:f}=p("campaigns"),{data:y}=p("projects");p("services");const[_,P]=o.useState(""),[v,T]=o.useState("all"),[N,D]=o.useState("all"),[k,n]=o.useState("list"),[C,S]=o.useState(null),[h,b]=o.useState(!1),[s,a]=o.useState({task_name:"",description:"",status:"pending",priority:"Medium",assigned_to:"",project_id:"",campaign_id:"",due_date:"",campaign_type:"",sub_campaign:"",progress_stage:"Not Started",qc_stage:"Pending",estimated_hours:"",tags:"",repo_links:""}),B=["Content","SEO","SMM","Web","Backlink","Analytics"],L=["Not Started","In Progress","Review","Completed"],M=["Pending","In Review","Approved","Rejected","Rework"],d=()=>{a({task_name:"",description:"",status:"pending",priority:"Medium",assigned_to:"",project_id:"",campaign_id:"",due_date:"",campaign_type:"",sub_campaign:"",progress_stage:"Not Started",qc_stage:"Pending",estimated_hours:"",tags:"",repo_links:""}),S(null)},H=async()=>{b(!0);try{await i({...s,assigned_to:s.assigned_to?parseInt(s.assigned_to):null,project_id:s.project_id?parseInt(s.project_id):null,campaign_id:s.campaign_id?parseInt(s.campaign_id):null,estimated_hours:s.estimated_hours?parseFloat(s.estimated_hours):null}),n("list"),d(),x()}catch(t){console.error("Failed to create task:",t)}finally{b(!1)}},A=async()=>{if(C){b(!0);try{await r(C.id,{...s,assigned_to:s.assigned_to?parseInt(s.assigned_to):null,project_id:s.project_id?parseInt(s.project_id):null,campaign_id:s.campaign_id?parseInt(s.campaign_id):null,estimated_hours:s.estimated_hours?parseFloat(s.estimated_hours):null}),n("list"),d(),x()}catch(t){console.error("Failed to update task:",t)}finally{b(!1)}}},E=t=>{S(t),a({task_name:t.name||t.task_name||"",description:t.description||"",status:t.status||"pending",priority:t.priority||"Medium",assigned_to:t.assigned_to?.toString()||"",project_id:t.project_id?.toString()||"",campaign_id:t.campaign_id?.toString()||"",due_date:t.due_date||"",campaign_type:t.campaign_type||"",sub_campaign:t.sub_campaign||"",progress_stage:t.progress_stage||"Not Started",qc_stage:t.qc_stage||"Pending",estimated_hours:t.estimated_hours?.toString()||"",tags:t.tags||"",repo_links:t.repo_links||""}),n("edit")},I=async t=>{if(confirm("Are you sure you want to delete this task?"))try{await u(t),x()}catch(c){console.error("Failed to delete task:",c)}},w=l.filter(t=>{const j=(t.name||t.task_name||"").toLowerCase().includes(_.toLowerCase()),m=v==="all"||t.status?.toLowerCase()===v.toLowerCase(),q=N==="all"||t.priority?.toLowerCase()===N.toLowerCase();return j&&m&&q}),W=()=>{z(w,"tasks_export")},F=t=>t?new Date(t).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"}):"-",R=()=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-slate-200",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Create Task"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Add a new task to track work progress"})]}),e.jsx("button",{onClick:()=>{n("list"),d()},className:"p-2 hover:bg-slate-100 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[65vh] space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Task Name *"}),e.jsx("input",{type:"text",value:s.task_name,onChange:t=>a({...s,task_name:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter task name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Priority"}),e.jsxs("select",{value:s.priority,onChange:t=>a({...s,priority:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white",children:[e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),e.jsx("textarea",{value:s.description,onChange:t=>a({...s,description:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 h-20 resize-none",placeholder:"Describe the task details..."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Assignee"}),e.jsxs("select",{value:s.assigned_to,onChange:t=>a({...s,assigned_to:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white",children:[e.jsx("option",{value:"",children:"Select assignee"}),g.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Project"}),e.jsxs("select",{value:s.project_id,onChange:t=>a({...s,project_id:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white",children:[e.jsx("option",{value:"",children:"Select project"}),y.map(t=>e.jsx("option",{value:t.id,children:t.project_name||t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Campaign"}),e.jsxs("select",{value:s.campaign_id,onChange:t=>a({...s,campaign_id:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white",children:[e.jsx("option",{value:"",children:"Select campaign"}),f.map(t=>e.jsx("option",{value:t.id,children:t.campaign_name},t.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Campaign Type"}),e.jsxs("select",{value:s.campaign_type,onChange:t=>a({...s,campaign_type:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white",children:[e.jsx("option",{value:"",children:"Select type"}),B.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Due Date"}),e.jsx("input",{type:"date",value:s.due_date,onChange:t=>a({...s,due_date:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Estimated Hours"}),e.jsx("input",{type:"number",value:s.estimated_hours,onChange:t=>a({...s,estimated_hours:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"0"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Progress Stage"}),e.jsx("select",{value:s.progress_stage,onChange:t=>a({...s,progress_stage:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white",children:L.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"QC Stage"}),e.jsx("select",{value:s.qc_stage,onChange:t=>a({...s,qc_stage:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white",children:M.map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sub-Campaign"}),e.jsx("input",{type:"text",value:s.sub_campaign,onChange:t=>a({...s,sub_campaign:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter sub-campaign"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Tags"}),e.jsx("input",{type:"text",value:s.tags,onChange:t=>a({...s,tags:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"tag1, tag2, tag3"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-slate-200 bg-slate-50",children:[e.jsx("button",{onClick:()=>{n("list"),d()},className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800",children:"Cancel"}),e.jsx("button",{onClick:H,disabled:h||!s.task_name,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 disabled:opacity-50",children:h?"Creating...":"Create Task"})]})]})}),$=()=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-slate-200",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Edit Task"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Update task details and progress"})]}),e.jsx("button",{onClick:()=>{n("list"),d()},className:"p-2 hover:bg-slate-100 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[65vh] space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Task Name *"}),e.jsx("input",{type:"text",value:s.task_name,onChange:t=>a({...s,task_name:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter task name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),e.jsxs("select",{value:s.status,onChange:t=>a({...s,status:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"on_hold",children:"On Hold"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),e.jsx("textarea",{value:s.description,onChange:t=>a({...s,description:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 h-20 resize-none",placeholder:"Describe the task details..."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Assignee"}),e.jsxs("select",{value:s.assigned_to,onChange:t=>a({...s,assigned_to:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white",children:[e.jsx("option",{value:"",children:"Select assignee"}),g.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Priority"}),e.jsxs("select",{value:s.priority,onChange:t=>a({...s,priority:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white",children:[e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Due Date"}),e.jsx("input",{type:"date",value:s.due_date,onChange:t=>a({...s,due_date:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Progress Stage"}),e.jsx("select",{value:s.progress_stage,onChange:t=>a({...s,progress_stage:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white",children:L.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"QC Stage"}),e.jsx("select",{value:s.qc_stage,onChange:t=>a({...s,qc_stage:t.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white",children:M.map(t=>e.jsx("option",{value:t,children:t},t))})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-slate-200 bg-slate-50",children:[e.jsx("button",{onClick:()=>{n("list"),d()},className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800",children:"Cancel"}),e.jsx("button",{onClick:A,disabled:h||!s.task_name,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 disabled:opacity-50",children:h?"Updating...":"Update Task"})]})]})});return e.jsxs("div",{className:"h-full flex flex-col w-full overflow-hidden bg-slate-50",children:[k==="create"&&R(),k==="edit"&&$(),e.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-slate-200 px-6 py-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Tasks"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Manage and track all tasks across projects and campaigns."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>n("create"),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Task"]}),e.jsxs("button",{onClick:W,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 border border-slate-300 rounded-lg hover:bg-white",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("svg",{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",value:_,onChange:t=>P(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white",placeholder:"Search tasks..."})]}),e.jsxs("select",{value:v,onChange:t=>T(t.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"on_hold",children:"On Hold"})]}),e.jsxs("select",{value:N,onChange:t=>D(t.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"all",children:"All Priority"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]}),e.jsx("div",{className:"flex-1 bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto h-full",children:e.jsxs("table",{className:"w-full min-w-[1400px]",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Task Title"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Project"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Campaign Type"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Sub-Campaign"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Assignee"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Priority"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Due Date"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Progress Stage"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"QC Stage"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Reworks"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Repo Links"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:w.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:13,className:"px-4 py-12 text-center text-slate-500",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("svg",{className:"w-12 h-12 text-slate-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("p",{className:"text-sm font-medium",children:"No tasks found"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Create a new task to get started"})]})})}):w.map(t=>{const c=g.find(m=>m.id===t.assigned_to),j=y.find(m=>m.id===t.project_id);return e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-medium text-slate-900 text-sm",children:t.name||t.task_name||"-"}),t.description&&e.jsx("div",{className:"text-xs text-slate-500 truncate max-w-[200px]",children:t.description})]}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:t.project_name||j?.project_name||j?.name||"-"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(J,{type:t.campaign_type||""})}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:t.sub_campaign||"-"}),e.jsx("td",{className:"px-4 py-3",children:c?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{name:c.name}),e.jsx("span",{className:"text-sm text-slate-700",children:t.assignee_name||c.name})]}):e.jsx("span",{className:"text-sm text-slate-400",children:"Unassigned"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(Q,{priority:t.priority||"Medium"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:F(t.due_date)}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(O,{stage:t.progress_stage||""})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(G,{stage:t.qc_stage||""})}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:t.rework_count||0}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:t.repo_link_count||0}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(V,{status:t.status})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>E(t),className:"p-1.5 hover:bg-slate-100 rounded-lg text-slate-500 hover:text-slate-700",title:"Edit task",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),e.jsx("button",{onClick:()=>I(t.id),className:"p-1.5 hover:bg-slate-100 rounded-lg text-slate-500 hover:text-red-600",title:"Delete task",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},t.id)})})]})})})]})]})};export{Y as default};
