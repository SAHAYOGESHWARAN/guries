import{e as j,r as n,j as e}from"./index.Cgn8UqAd.js";const _=({onNavigate:m})=>{const{hasPermission:u}=j(),p=u("canViewAdminConsole"),[i,d]=n.useState([{id:1,repo_name:"Content Repository",description:"Blog posts, articles, and written content",type:"Content",storage_path:"/storage/content",max_size_gb:100,used_size_gb:45.2,file_types:"doc,docx,pdf,txt",status:"Active"},{id:2,repo_name:"Asset Library",description:"Images, videos, and media files",type:"Media",storage_path:"/storage/assets",max_size_gb:500,used_size_gb:234.8,file_types:"jpg,png,gif,mp4,webp",status:"Active"},{id:3,repo_name:"Design Files",description:"Source design files and templates",type:"Design",storage_path:"/storage/design",max_size_gb:200,used_size_gb:89.3,file_types:"psd,ai,fig,sketch",status:"Active"},{id:4,repo_name:"Knowledge Base",description:"Documentation and guides",type:"Documentation",storage_path:"/storage/kb",max_size_gb:50,used_size_gb:12.1,file_types:"md,html,pdf",status:"Active"}]),[h,l]=n.useState(!1),[r,c]=n.useState(null),[t,a]=n.useState({repo_name:"",description:"",type:"Content",storage_path:"",max_size_gb:100,used_size_gb:0,file_types:"",status:"Active"});if(!p)return e.jsx("div",{className:"h-full flex items-center justify-center bg-slate-50",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"w-20 h-20 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"Only administrators can access this configuration."})]})});const g=()=>{d(r?i.map(s=>s.id===r.id?{...s,...t}:s):[...i,{...t,id:Date.now()}]),l(!1),c(null),a({repo_name:"",description:"",type:"Content",storage_path:"",max_size_gb:100,used_size_gb:0,file_types:"",status:"Active"})},b=s=>{c(s),a(s),l(!0)},f=s=>{confirm("Are you sure you want to delete this repository?")&&d(i.filter(o=>o.id!==s))},x=(s,o)=>Math.round(s/o*100);return e.jsxs("div",{className:"h-full flex flex-col bg-slate-50 animate-fade-in overflow-hidden",children:[e.jsx("div",{className:"bg-white border-b border-slate-200 px-6 py-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>m?.("admin-console-config"),className:"p-2 hover:bg-slate-100 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"ðŸ“š"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Repository Manager"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Manage content repositories, asset libraries, and knowledge base"})]})]}),e.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-emerald-600 text-white rounded-lg font-medium hover:bg-emerald-700 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Repository"]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:i.map(s=>e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-800",children:s.repo_name}),e.jsx("p",{className:"text-sm text-slate-500",children:s.description})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="Active"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:s.status})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-slate-600",children:"Storage Used"}),e.jsxs("span",{className:"font-medium text-slate-800",children:[s.used_size_gb," / ",s.max_size_gb," GB"]})]}),e.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${x(s.used_size_gb,s.max_size_gb)>80?"bg-red-500":"bg-emerald-500"}`,style:{width:`${x(s.used_size_gb,s.max_size_gb)}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-slate-500",children:["Type: ",e.jsx("span",{className:"text-slate-700",children:s.type})]}),e.jsxs("span",{className:"text-slate-500",children:["Files: ",e.jsx("span",{className:"text-slate-700",children:s.file_types})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-100",children:[e.jsx("button",{onClick:()=>b(s),className:"flex-1 px-3 py-1.5 text-sm text-blue-600 hover:bg-blue-50 rounded-lg",children:"Edit"}),e.jsx("button",{onClick:()=>f(s.id),className:"flex-1 px-3 py-1.5 text-sm text-red-600 hover:bg-red-50 rounded-lg",children:"Delete"})]})]})]},s.id))})}),h&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>l(!1)}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-lg mx-4 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:r?"Edit Repository":"Add Repository"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Repository Name"}),e.jsx("input",{type:"text",value:t.repo_name,onChange:s=>a({...t,repo_name:s.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),e.jsx("textarea",{value:t.description,onChange:s=>a({...t,description:s.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",rows:2})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Type"}),e.jsxs("select",{value:t.type,onChange:s=>a({...t,type:s.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",children:[e.jsx("option",{value:"Content",children:"Content"}),e.jsx("option",{value:"Media",children:"Media"}),e.jsx("option",{value:"Design",children:"Design"}),e.jsx("option",{value:"Documentation",children:"Documentation"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Max Size (GB)"}),e.jsx("input",{type:"number",value:t.max_size_gb,onChange:s=>a({...t,max_size_gb:Number(s.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Allowed File Types (comma-separated)"}),e.jsx("input",{type:"text",value:t.file_types,onChange:s=>a({...t,file_types:s.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",placeholder:"jpg,png,pdf,doc"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:g,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg",children:"Save"})]})]})]})]})};export{_ as default};
